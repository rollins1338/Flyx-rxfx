# Cloudflare Pages configuration for Flyx Next.js app
# This file is used by @opennextjs/cloudflare for deployment

name = "flyx"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Main entry point (generated by opennextjs-cloudflare)
main = ".open-next/worker.js"

# Assets directory
assets = { directory = ".open-next/assets", binding = "ASSETS" }

# Environment variables (set these in Cloudflare Dashboard or via wrangler secret)
# wrangler secret put TMDB_API_KEY
# wrangler secret put NEXT_PUBLIC_TMDB_API_KEY

[vars]
# Public environment variables can be set here
# NEXT_PUBLIC_CF_SYNC_URL = "https://flyx-sync.your-subdomain.workers.dev"
# NEXT_PUBLIC_CF_ANALYTICS_WORKER_URL = "https://flyx-analytics.your-subdomain.workers.dev"

# Observability
[observability]
enabled = true

# Production environment
[env.production]
name = "flyx"

[env.production.vars]
NODE_ENV = "production"

# Preview environment (for PR deployments)
[env.preview]
name = "flyx-preview"

[env.preview.vars]
NODE_ENV = "production"
