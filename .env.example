# TMDB API Configuration
# Get your API key from: https://www.themoviedb.org/settings/api
# Use the Bearer token (Read Access Token) from TMDB API settings
TMDB_API_KEY=your_tmdb_bearer_token_here
NEXT_PUBLIC_TMDB_API_KEY=your_tmdb_api_key_here

# Database Configuration
# REQUIRED: Neon PostgreSQL connection string for production
# Get this from your Neon dashboard: https://console.neon.tech
# Format: postgresql://user:password@host/database?sslmode=require
# This is used for:
# - Analytics tracking (watch sessions, events)
# - Admin user management
# - Content statistics
# If not set, will fall back to local SQLite for development
DATABASE_URL=your_neon_database_url_here

# Optional: Unpooled connection (for migrations or direct access)
DATABASE_URL_UNPOOLED=your_unpooled_connection_string_here

# Optional: Individual PostgreSQL parameters (if constructing connection manually)
PGHOST=your_pg_host
PGHOST_UNPOOLED=your_pg_host_unpooled
PGUSER=your_pg_user
PGDATABASE=your_pg_database
PGPASSWORD=your_pg_password

# Optional: IP hashing salt for privacy (analytics)
# Used to anonymize IP addresses in analytics
# Generate a random string for production
IP_SALT=your_random_salt_here

# Optional: Cron job secret for automated tasks
# Used to secure the daily metrics update endpoint
# Generate a random string for production
CRON_SECRET=your_cron_secret_here

# Cloudflare Worker Proxy URLs (optional - for reduced bandwidth costs)
# Deploy the cloudflare-proxy worker and set these URLs
# Stream proxy: for 2embed/HLS streams
NEXT_PUBLIC_CF_STREAM_PROXY_URL=https://media-proxy.your-subdomain.workers.dev/stream
# TV proxy: for DLHD live TV streams  
NEXT_PUBLIC_CF_TV_PROXY_URL=https://media-proxy.your-subdomain.workers.dev/tv

# RPI Proxy Configuration (for live TV CDN bypass)
RPI_PROXY_URL=https://your-rpi-proxy.com
RPI_PROXY_KEY=your-rpi-proxy-api-key

# ⚠️ VidSrc Provider Configuration (SECURITY WARNING)
# VidSrc executes remote JavaScript code which poses security risks.
# This provider is DISABLED BY DEFAULT to protect users who clone this repo.
# Only enable if you understand the risks and have proper sandboxing configured.
# ENABLE_VIDSRC_PROVIDER=true

# Optional: Captcha Solving Service for Turnstile Bypass
# If Cloudflare Turnstile appears, this API key enables automatic solving
# Get an API key at https://capsolver.com (~$2-3 per 1000 solves)
# CAPSOLVER_API_KEY=your_capsolver_api_key_here

# Decoder Sandbox Configuration (REQUIRED if VidSrc is enabled)
# Deploy the cloudflare-proxy worker and use the /decode endpoint
# This runs untrusted decoder scripts in an isolated V8 sandbox
DECODER_SANDBOX_URL=https://media-proxy.your-subdomain.workers.dev
# Optional: API key to protect the sandbox endpoint
DECODER_SANDBOX_API_KEY=your-sandbox-api-key
# Allow local Node.js VM fallback (ONLY for development - auto-enabled in dev mode)
# In production, if DECODER_SANDBOX_URL is not set, VidSrc extraction will fail safely
# ALLOW_LOCAL_VM_FALLBACK=true
