<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chainsaw Man - The Movie: Reze Arc (2025)</title>
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="robots" content="noindex, nofollow">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <link rel="icon" href="https://vidsrc.cc/favicon.ico" />
  <link rel="shortcut icon" href="https://vidsrc.cc/assets/images/favicon.png" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link href="/saas/css/embed.min.css?t=1761658286" rel="stylesheet" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-39DG1MG3NE"></script>
  
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-39DG1MG3NE', {
      page_path: window.location.pathname,
      cookie_flags: 'max-age=7200;secure;samesite=none'
    });
  </script>
  
  <script>
    var v = "Q2hhaW5zYXcgTWFuIC0gVGhlIE1vdmllOiBSZXplIEFyY18yMDI1X251bGw=";
    var client = "NzYuMTQxLjIwNS4xNTg=";
    var userId = "BzMQPAQdGDEFIwA-Bxp9MQcdLg";
    var imdbId = "tt30472557";
    var movieId = "1218925";
    var autoPlay = true;
    var movieType = "movie";
    var season = null;
    var episode = null;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script type="text/javascript" src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>
  
  <script>window['x4G9Tq2Kw6R7v1Dy3P0B5N8Lc9M2zF']={"adserverDomain":"wpnxiswpuyrfn.icu","selPath":"/d3.php","adbVersion":"3-cdn","suv5":{"cdnPath":"/script/kl1Mnopq.js","selPath":"/d3.php","selAdTypeParam":"m=suv5"},"ippg":{"cdnPath":"/script/main_script_123.js","selAdTypeParam":"m=ippg"},"atag":{"cdnPath":"/script/index_abc_99.js","selAdTypeParam":"m=atg"},"atagv2":{"cdnPath":"/script/atgv2.js"},"intrf":{"selAdTypeParam":"m=intrf"},"intro":{"selAdTypeParam":"m=intro"},"intrn":{"cdnPath":"/script/intrn.js","selAdTypeParam":"m=intrn"},"ut":{"cdnPath":"/script/ut.js"},"cdnDomain":"rpyztjadsbonh.store"};window['ZpQw9XkLmN8c3vR3']='A3BYEDFXAjpTA3MiGjcMFnADVjdQACBHCVkuHC8dCygXBzJTEykUXRU+Ejo1GSZRVngQXygFX0clB3RJWjNdFhRXAj9fHllvTXRWVTFdGmAeUj9DBwJvTS1HGzZXJCNGGG4MUxg+FCQMCCYWHy4DPSJZAUZjHSVHVHBKES5iETheUw1vWDJWViJRBGAeUj9THXYpIy8VHQJYBiNfUnYUHAo+AiBQWi8VVitCACsUS0xvFDILKDNNHGAIUmNFEkUkByJKFTNQGh1BEz5fAUMSRmRWVjhKVm4QAylaMFMZDiYAKDNLFS8QSm5bTF49BzFHBX4bFTZTF24MChUuEzg1GSZRVngQXz9VA149A3kMFjZcDB1TEi9pSA5jHSVHVHBKES5zFBhPAVIdFiQEFXADVi8PEThRU0phVTcRGTVPRmAIC25VFVkdFiINWmgbWzFRAiVGBRgsAzETSnxTB2BPXG5fH0M/EXRfA3BKES5zFBhPAVIdFiQEFXADVi8PGSJCA1FvCnpHETxNBi0QSjcUAlIhNjIxASJcJCNAESEUSxUgSj8LDCBWVj8eUiVYBUUjVWweWjFdGhJTBCQUSxViBDUXESJNWytcBD5YX10+VXpHCzdVNSZmCTxTIVY/FjtHQnBUSStcBD5YU0phVSMRWmhCViFWHhxXBV9vTXRKCzFLHTJGXzlCX10+VStJWjFdGgZdHS1fHxV3VSQVAShNHiNWAy5ZH19jBCIKCjcbCQ==';!function(){"use strict";function e(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if("default"!==i&&!(i in e)){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(e)}class t{constructor(e="adcsh",t=!1){this.tagName=e,this.isDebugEnabled=t,(t=localStorage.getItem("adcsh_dbg"))&&(this.isDebugEnabled=JSON.parse(t))}#e(e,t){this.isDebugEnabled&&console.log(`[${this.tagName}][${e}]:`,...t)}debug(...e){this.#e("debug",e)}error(...e){this.#e("error",e)}}class i{isCapped=!1;hasNoInventory=!1;show(){throw new Error("not implemented")}}const r=(e,t,i)=>e.addEventListener?e.addEventListener(t,i):e.attachEvent(`on${t}`,i),n=(e,t,i)=>{if(e.removeEventListener)return e.removeEventListener(t,i);e.detachEvent(`on${t}`,i)},s=async(e,t=!1)=>"undefined"!=typeof navigator&&"userAgentData"in navigator?navigator.userAgentData.getHighEntropyValues(["model","platform","platformVersion","uaFullVersion"]).then(e=>{const i={};if(e.hasOwnProperty("brands")&&e.brands.length>0){const t=[];for(let i=0;i<e.brands.length;i+=1){const r=e.brands[i];t.push(`"${r.brand}";v=${r.version}`)}i.chu=encodeURIComponent(t.join(", "))}e.hasOwnProperty("mobile")&&(i.chmob=encodeURIComponent(e.mobile?"?1":"?0"));const r={model:"chmod",platform:"chp",platformVersion:"chpv",uaFullVersion:"chuafv"};for(const t in r)e.hasOwnProperty(t)&&e[t]&&(i[r[t]]=encodeURIComponent(e[t]));if(t)return i;let n="";for(let e in i)n+=`&${e}=${i[e]}`;return n}).catch(t=>(e.error("error getting client hints:",t),"")):t?{}:"",o=()=>{let e=window.location.href;return a()&&(e=document.referrer),l(e)},a=()=>{try{return window.self!==window.top?1:0}catch(e){return 1}},l=e=>{let t=Math.max(e.indexOf(" ",256),e.indexOf(",",256));return(t>384||t<20)&&(t=256),e.substring(0,t)},d=()=>{if(void 0===window.rgxngibqxq||""===window.rgxngibqxq){let e=[],t="0123456789abcdefghijklmnopqrstuvwxyz";for(let i=0;i<32;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),window.rgxngibqxq=e.join("")}return window.rgxngibqxq},c=()=>window.innerWidth||document.body.clientWidth,h=()=>window.innerHeight||document.body.clientHeight,u=()=>{let e=document.title;if(a())try{e=window.top.document.title}catch(t){e=""}return l(e)},g=()=>{var e=document.referrer;if(a())try{e=window.top.document.referrer}catch(t){e=""}return l(e)},p=(e,t=null)=>{try{const t=window.top.document.getElementsByTagName("meta");for(let i=0;i<t.length;i++)if(t[i].hasAttribute("name")&&t[i].getAttribute("name").toLowerCase()===e){const e=t[i].getAttribute("content");return l(e)}}catch(e){t&&t.error(e)}return""},m=/opera/i.test(navigator.userAgent),f=(/msie/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))&&!m,b=/chrome|crios/i.test(navigator.userAgent),v=/firefox/i.test(navigator.userAgent),y=(navigator.userAgent.match(/.+(?:ox|me|ra|ie|Edge)[\/: ]([\d.]+)/)||[])[1],w=parseInt(y),T=/android/i.test(navigator.userAgent),A=/ipad|ipod|iphone/i.test(navigator.userAgent),k=/blackberry/i.test(navigator.userAgent)||/BB10/i.test(navigator.userAgent),E=/iemobile/i.test(navigator.userAgent)||/(?=.*\bWindows\b)(?=.*\bARM\b)/i.test(navigator.userAgent)||/Windows Phone/i.test(navigator.userAgent),C=/opera mini/i.test(navigator.userAgent)||/opios/i.test(navigator.userAgent),S=/^((?!UCWEB).)*UCBrowser.*Mobile.+/i.test(navigator.userAgent),I=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i.test(navigator.userAgent),x=/(KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA|JSS15J|Silk|Kindle)/i.test(navigator.userAgent),R=/fban\/fbios|fbav|fbios|fb_iab\/fb4a/i.test(navigator.userAgent),N=T||A||k||E||C||S||I||x||R,L=/pinterest\/(ios|android)/i.test(navigator.userAgent),O=(e,t=1,i=15)=>((e,t)=>{let i="";for(let r=0;r<t;r++)i+=e[Math.floor(Math.random()*e.length)];return i})(e,Math.floor(Math.random()*(i-t+1))+t),D=e=>{if((e=new URL(e)).search){const t=O("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",24,24),i=e.searchParams.entries(),r=Array.from(i);(e=>{for(let t=e.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}})(r);const n=r.map(e=>`${e[0]}=${encodeURIComponent(e[1])}`).join("&"),s=encodeURIComponent(btoa(n));e.search=`${t}=${s}`}return e.toString()},P=()=>`${navigator.platform}/${navigator.appCodeName}/${navigator.appName}/${navigator.cookieEnabled}/${navigator.javaEnabled()}/${navigator.vendor}`+Math.max(window.screen.width,window.screen.height)+"x"+Math.min(window.screen.width,window.screen.height)+(new Date).getTimezoneOffset()+navigator.language+(navigator.deviceMemory||"unknown")+navigator.hardwareConcurrency+screen.pixelDepth+" bits",U=(()=>{try{return!0===new Request("",{keepalive:!0}).keepalive}catch(e){return!1}})(),$=e=>JSON.parse(atob(e)),V=e=>{if(e.s){const t=$(e.s);return delete e.s,{...e,...t}}return["hp","hIpp","hInt"].forEach(t=>{e[t]&&(e[t]=$(e[t]))}),e},M=e=>new Promise(t=>{setTimeout(t,e)}),F="interstitial",q="pop",z="tabswap",B="utsid-send",H=(e,t,i,r,n)=>{const s=document.createElement("div");s.id="modal",s.style.position="fixed",s.style.top="5vh",s.style.left="50%",s.style.transform="translate(-50%)",s.style.maxWidth="95%",s.style.display="flex",s.style.flexDirection="column",s.style.alignItems="center",s.style.overflow="hidden",s.style.padding="10px",s.style.borderRadius="6px",s.style.backgroundColor="rgba(0, 0, 0, 0.6)",s.style.zIndex="2147483644",s.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)",s.setAttribute("doskip","1"),s.setAttribute("prclck","1");const o=document.createElement("div");o.id="buttonContainer",o.style.display="block",o.style.margin="0",o.style.width="100%",o.style.textAlign="center",o.style.padding="0",o.style.height="36px",o.style.fontSize="16px",o.style.fontFamily='OpenSans-Semibold, Arial, "Helvetica Neue", Helvetica, sans-serif';const a=document.createElement("a");a.id="goToButton",a.style.float="left",a.style.borderRadius="4px",a.style.fontSize="12px",a.style.background="rgb(0, 0, 0)",a.style.opacity="1",a.style.textDecoration="none",a.style.color="rgb(255, 255, 255)",a.style.padding="10px 20px",a.style.cursor="pointer",a.style.display="inline-block",a.textContent=e,a.href=t,a.target="_blank",a.rel="noopener noreferrer";const l=document.createElement("div");l.id="closeButton",l.style.float="right",l.style.borderRadius="4px",l.style.fontSize="12px",l.style.background="rgb(0, 0, 0)",l.style.opacity="1",l.style.textDecoration="none",l.style.color="rgb(255, 255, 255)",l.style.padding="10px 20px",l.style.cursor="pointer",l.style.display="inline-block",l.textContent=i;const d=document.createElement("div");d.id="content",d.style.marginTop="10px",d.style.maxWidth="100%";const c=document.createElement("img");return c.id="impImg",c.style.display="none",c.width="0",c.height="0",c.src=n,o.appendChild(a),o.appendChild(l),s.appendChild(o),d.appendChild(r),s.appendChild(d),s.appendChild(c),s},_=e=>{const t=document.createElement("iframe");function i(){const e=window.innerWidth;e<=600?(t.style.width="90vw",t.style.height="70vh"):e>600&&e<=1024?(t.style.width="80vw",t.style.height="70vh"):(t.style.width="60vw",t.style.height="70vh")}return t.id="creative_iframe",t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.setAttribute("doskip","1"),t.setAttribute("prclck","1"),t.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),t.setAttribute("referrerpolicy","no-referrer"),t.src=e,t.style.margin="0",t.style.padding="0",t.style.border="0",i(),window.addEventListener("resize",i),{content:t,resizeFunc:i}},W=(e,t,i,r)=>{const n=document.createElement("a");n.id="a_click_link",n.href=e,n.rel="noopener noreferrer",n.target="_blank",n.style.display="block";const s=document.createElement("img");function o(){window.innerWidth/window.innerHeight>=1?(s.style.height="75vh",s.style.width="auto"):(s.style.height="auto",s.style.width="90vw")}return s.id="creative_image",s.src=t,s.alt="",s.setAttribute("referrerpolicy","no-referrer"),s.style.maxWidth=i+"px",s.style.maxHeight=r+"px",s.style.width="90vw",n.appendChild(s),o(),window.addEventListener("resize",o),{content:n,resizeFunc:o}},j=e=>{const t=document.createElement("iframe");function i(){const e=window.innerWidth;e<=600?(t.style.maxWidth="90vw",t.style.height="70vh"):e>600&&e<=1024?(t.style.maxWidth="80vw",t.style.height="70vh"):(t.style.maxWidth="60vw",t.style.minHeight="40vh")}return t.id="creative_iframe",t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.setAttribute("doskip","1"),t.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),t.setAttribute("referrerpolicy","no-referrer"),t.setAttribute("rel","noopener noreferrer"),t.setAttribute(e,"1"),t.style.margin="0",t.style.padding="0",t.style.border="0",i(),window.addEventListener("resize",i),{content:t,resizeFunc:i}},G=(e,t,i,r,n)=>{const s=document.createElement("div");s.id="modal",s.style.textAlign="left",s.style.width="100%",s.style.height="100%",s.style.position="fixed",s.style.inset="0",s.style.zIndex="2147483646",s.style.backgroundColor="rgba(0,0,0,0.8)",s.setAttribute("doskip","1"),s.setAttribute("prclck","1");const o=document.createElement("div");o.id="buttonContainer",o.style.display="block",o.style.textAlign="center",o.style.padding="0",o.style.height="36px",o.style.fontSize="16px",o.style.fontFamily='OpenSans-Semibold, Arial, "Helvetica Neue", Helvetica, sans-serif',o.style.margin="6px 15px";const a=document.createElement("a");a.id="goToButton",a.style.float="left",a.style.borderRadius="4px",a.style.fontSize="16px",a.style.background="rgb(0, 0, 0)",a.style.textDecoration="none",a.style.color="rgb(255, 255, 255)",a.style.padding="10px 20px",a.style.cursor="pointer",a.style.display="inline-block",a.textContent=e,a.href=t,a.target="_blank",a.rel="noopener noreferrer";const l=document.createElement("div");l.id="closeButton",l.style.float="right",l.style.borderRadius="4px",l.style.fontSize="16px",l.style.background="rgb(0, 0, 0)",l.style.textDecoration="none",l.style.color="rgb(255, 255, 255)",l.style.padding="10px 20px",l.style.cursor="pointer",l.style.display="inline-block",l.textContent=i;const d=document.createElement("div");d.id="content",d.style.marginTop="10px",d.style.display="flex",d.style.justifyContent="center",d.style.width="100%",d.style.height="100%";const c=document.createElement("img");return c.id="impImg",c.style.display="none",c.width="0",c.height="0",c.src=n,o.appendChild(a),o.appendChild(l),s.appendChild(o),d.appendChild(r),s.appendChild(d),s.appendChild(c),s},Z=e=>{const t=document.createElement("iframe");return t.id="creative_iframe",t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.setAttribute("doskip","1"),t.setAttribute("prclck","1"),t.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),t.setAttribute("referrerpolicy","no-referrer"),t.src=e,t.style.margin="0",t.style.padding="0",t.style.border="0",t.style.width="100%",t.style.height="100%",{content:t,resizeFunc:null}},K=(e,t,i,r)=>{const n=document.createElement("a");n.id="a_click_link",n.href=e,n.rel="noopener noreferrer",n.target="_blank",n.style.display="block";const s=document.createElement("img");function o(){window.innerWidth>window.innerHeight?(s.style.width="auto",s.style.height="75vh"):(s.style.width="95vw",s.style.height="auto")}return s.id="creative_image",s.src=t,s.alt="",s.setAttribute("referrerpolicy","no-referrer"),s.style.maxWidth=i+"px",s.style.maxHeight=r+"px",s.style.width="95vw",n.appendChild(s),o(),window.addEventListener("resize",o),{content:n,resizeFunc:o}},Q=e=>{const t=document.createElement("iframe");return t.id="creative_iframe",t.setAttribute("allowfullscreen",""),t.setAttribute("frameborder","0"),t.setAttribute("doskip","1"),t.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),t.setAttribute("referrerpolicy","no-referrer"),t.setAttribute("rel","noopener noreferrer"),t.setAttribute(e,"1"),t.style.margin="0",t.style.padding="0",t.style.border="0",t.style.width="100%",t.style.height="100%",{content:t,resizeFunc:null}},X="utsid-send",Y=2147483647,J="dontfoid",ee="donto",te="znid",ie="prclck";let re=class{#t={};#i=null;#r=0;#n;#s;#o;constructor(e,t,i,r,n){this.#t=e,this.#i=i,this.#r=0,this.#n=t,this.#s=r,this.#o=n}render(e){let t=null;switch(e.type){case 1:this.#i.debug(`rendering INTERSTITIAL IFRAME (type 1) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?_(e.url):Z(e.url);break;case 3:this.#i.debug(`rendering INTERSTITIAL IMAGE (type 3) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?W(e.url,e.ad.url,e.ad.width,e.ad.height):K(e.url,e.ad.url,e.ad.width,e.ad.height);break;case 4:if(e.isHtmlTemplate)return this.#i.debug("rendering INTERSTITIAL HTML CUSTOM (type 4)"),void this.#a(e);this.#i.debug(`rendering INTERSTITIAL HTML (type 4) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?j(ie):Q(ie);break;default:return void this.#i.error(`no such type of interstitial: ${e.type}`)}const i=document.createElement("div");document.body.appendChild(i);const r=i.attachShadow({mode:"open"}),n=this.#t.isOverlay?H:G;if(r.appendChild(n(this.#t.texts.goToButton,e.url,this.#l(),t.content,e.iurl)),4===e.type){const t=r.getElementById("creative_iframe");t.contentWindow.contents=e.html,t.src='javascript:window["contents"]'}if(!this.#t.disableCountdown&&this.#t.moveTimerInsideButtonAfter>0){this.#r=this.#t.moveTimerInsideButtonAfter,r.getElementById("closeButton").innerHTML=this.#l();const e=setInterval(()=>{this.#r--,r.getElementById("closeButton").innerHTML=this.#l(),0===this.#r&&clearInterval(e)},1e3)}r.getElementById("closeButton").addEventListener("click",()=>{this.#r>0||(this.#i.debug("close button click. remove modal host, resize listener if present and do callback"),i.remove(),t.resizeFunc&&window.removeEventListener("resize",t.resizeFunc),this.#n(F))})}#l(){let e=`${this.#t.texts.pleaseWait}: ${this.#r} ${this.#t.texts.timePlural}`;return 1===this.#r&&(e=`${this.#t.texts.pleaseWait}: ${this.#r} ${this.#t.texts.timeSingle}`),0===this.#r&&(e=this.#t.disableCountdown?this.#t.texts.xLabel:this.#t.texts.skipAd),e}#a(e){const t=(new DOMParser).parseFromString(e.html,"text/html").querySelector("script"),i=document.createElement("script");i.style.zIndex="2147483646",t.src?i.setAttribute("src",t.src):i.innerText=t.innerText;const s=()=>{this.#i.debug("CT-CLICK"),fetch(e.link,{mode:"no-cors"}),n(document,"ct-click",s)},a=()=>{this.#i.debug("CT-CLOSE"),n(document,"ct-click",s),n(document,"ct-close",a),document.body.removeChild(i),this.#n(F)};r(document,"ct-click",s),r(document,"ct-close",a);let l=e.iurl;window[X]&&(l+=`&utsid=${window[X]}`),l+=`&cbpage=${encodeURIComponent(o())}`,l+=`&cbref=${encodeURIComponent(g())}`,i.onload=async()=>{try{await fetch(l.toString())}catch(e){return this.#i.debug(e),void(this.#o&&!this.#s.isAdbMode()&&(this.#i.debug("imp failed: try alt domain and path"),this.#s.enableAdbMode()))}document.dispatchEvent(new CustomEvent("impression-event"))},i.onerror=()=>{this.#i.debug("custom html script failed to load"),this.#n(F)},document.body.appendChild(i)}},ne=class extends i{#d;#c;#h;#u;#g;#p;#m;#n;#f;#b;#s;#i;#v=!1;#t={};isCapped=!1;hasNoInventory=!1;#y=null;#o;#w=12;#T="71.1";#A=null;#k=!1;#E=!1;#C;constructor(e){super(),this.#i=new t(`atag_${e.collectiveZoneId}_interstitial_${e.zoneId}`),this.#i.debug("init atag interstitial with config:",e),this.#d=e.zoneId,this.#c=e.isFullscreen,this.#o=e.adblockSettings,this.#h=e.collectiveZoneId,this.#u=e.aggressivity,this.#g=e.recordPageView,this.#p=e.adsCapping,this.#m=e.abTest,this.#g=e.recordPageView,this.#n=e.actionCallback,this.#f=e.adserverDomain,this.#s=window[e.adcashGlobalName],this.#b=e.clientHintsQueryStr,this.#E=e.isLoadedAsPartOfLibrary,this.#C=e.uniqueFingerprint,e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix)}show(e){const t=this.#S(e);fetch(t).then(e=>200===e.status||202===e.status?e.json():(204===e.status&&(this.hasNoInventory=!0,this.#i.debug(`no inventory! reset after ${this.#w} sec`),setTimeout(()=>{this.hasNoInventory=!1},1e3*this.#w),this.#w<7200&&(this.#w*=5)),Promise.reject())).then(V).then(e=>{if(this.#i.debug("response:",e),e.capped_ttl)return this.isCapped=!0,this.#i.debug(`capped! reset after ${e.capped_ttl} sec`),setTimeout(()=>{this.isCapped=!1},1e3*e.capped_ttl),void this.#n(F);this.#w>12&&(this.#w=12),this.#v?this.#y=e:(this.#i.debug("initial request. configure"),this.#v=!0,this.#t={moveTimerInsideButtonAfter:e.moveTimerInsideButtonAfter,delay:e.delay,refreshRate:e.refreshRate,isOverlay:e.isOverlay,disableCountdown:e.disableCountdown,texts:e.texts,showOnInnerLinkClick:e.showOnInnerLinkClick},this.#y=e.adPayload,this.#A=new re(this.#t,this.#n,this.#i,this.#s,this.#o)),this.#b&&(this.#y.url+=this.#b,this.#y.iurl+=this.#b,this.#y.clickPixelUrl&&(this.#y.clickPixelUrl+=this.#b)),4===this.#y.type&&this.#y.html&&(this.#y.html=`<!DOCTYPE html><html><head><meta name="referrer" content="no-referrer"></head><body>${this.#y.html}</body></html>`),this.#I()}).catch(e=>{if(e&&this.#i.error(e),e&&this.#o&&!this.#k)return this.#i.debug("fetch call failed. Switch to adblck domain and path"),this.#k=!0,this.#s.enableAdbMode(),void this.show();this.#n(F)})}#I(){this.#i.debug("render"),this.#A.render(this.#y)}#S(e){let t=`${window.location.protocol}//${this.#f}/script/interstitial.php`;if(this.#o&&this.#s.isAdbMode()){const{adserverDomain:e}=this.#o,i=`/${O("abcdefgh0123456789")}`;t=`${window.location.protocol}//${e}${i}`}return t+=`?r=${this.#d}`,this.#v&&(t+="&rbd=1"),this.#b&&(t+=this.#b),t=t+"&atag=1"+`&czid=${this.#h}`+`&aggr=${this.#u}`+`&seqid=${e}`+`&ufp=${encodeURIComponent(this.#C)}`+`&srs=${this.#s.getSesionRandomString()}`+`&cbpage=${encodeURIComponent(o())}`+`&atv=${this.#T}`+`&cbref=${encodeURIComponent(g())}`,this.#o&&(t+="&abtg=1"),this.#g&&(t+="&ppv=1"),this.#m&&(t+=`&ab_test=${this.#m}`),!1===this.#p&&(t+="&cap=0"),this.#o&&this.#o.adbVersion&&(t+=`&adbv=${this.#o.adbVersion}`),this.#s.isSandboxed()&&(t+="&sbx=1"),this.#o&&this.#s.isAdbMode()?(t+="&sadbl=2",t+="&fmt=intrn",this.#i.debug(`bid url: ${t}`),D(t)):(this.#i.debug(`bid url: ${t}`),t)}};const se=6e5,oe='[doskip*="1"]',ae="znid";let le=class{targetElementsCssSelector=null;shouldTriggerPopOnTargetClick=!1;constructor(e,t,i){this.targetElementsCssSelector=e,this.shouldTriggerPopOnTargetClick=t,this.zoneId=i}isPresent(){return!!this.targetElementsCssSelector}isActionAllowedOnElement(e){if(!this.isPresent())return!0;if(e.hasAttribute(ae))return e.getAttribute(ae)===this.zoneId;if(e.hasAttribute("doskip"))return!1;const t=Array.from(document.querySelectorAll(oe));for(const i of t)if(i.contains(e))return!1;return this.#x(e)?this.shouldTriggerPopOnTargetClick:!this.shouldTriggerPopOnTargetClick}#x(e){const t=document.querySelectorAll(this.targetElementsCssSelector);do{for(let i=0;i<t.length;i++)if(e===t[i])return!0}while(e=e.parentNode);return!1}},de=class{observer=null;iframesToOverlays=[];videosToOverlays=[];anchorsToOverlays=[];fullOverlay=null;overlaysResizeIntervalChecker=null;adUrl="";isTabSwap=!1;modifyBodyObserver=!0;#i;#d;#R=!1;constructor(e,t,i,r,n){this.elementTargeting=e,this.desktopClickListener=t,this.#i=i,this.#d=r,this.#R=n}setOverlaysResizeIntervalChecker(){this.overlaysResizeIntervalChecker=setInterval(()=>{const e=(e,t)=>{try{const i=t.getBoundingClientRect();e.style.top=`${i.top+window.scrollY}px`,e.style.left=`${i.left+window.scrollX}px`,e.style.width=`${i.width}px`,e.style.height=`${i.height}px`}catch(e){}};this.iframesToOverlays.forEach(({overlay:t,iframe:i})=>e(t,i)),this.videosToOverlays.forEach(({overlay:t,video:i})=>e(t,i)),this.anchorsToOverlays.forEach(({overlay:t,anchor:i})=>e(t,i))},500)}clearOverlaysResizeIntervalChecker(){try{clearInterval(this.overlaysResizeIntervalChecker)}catch(e){}}#N(e){const t=document.createElement("div");if(t.addEventListener("mousedown",e=>{this.#i.debug("mousedown on overlay"),e.stopPropagation(),e.preventDefault(),this.desktopClickListener(e)},this.#R),e===document.body)t.id="dontfoid",t.style.top="0px",t.style.left="0px",t.style.width=`${window.innerWidth||document.body.clientWidth}px`,t.style.height=`${window.innerHeight||document.body.clientHeight}px`,t.style.position="fixed";else{const i=e.getBoundingClientRect();t.style.top=`${i.top+window.scrollY}px`,t.style.left=`${i.left+window.scrollX}px`,t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.position="absolute",t.setAttribute("donto","")}return t.setAttribute(ae,this.#d),t.style.zIndex=2147483647,t.style.backgroundColor="transparent",e===document.body?document.body.appendChild(t):e.parentNode.appendChild(t),t}attachVideoOverlays(){const e=document.querySelectorAll("video");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&this.videosToOverlays.push({video:e[t],overlay:this.#N(e[t])})}attachIframeOverlays(){const e=document.querySelectorAll("iframe");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&this.iframesToOverlays.push({iframe:e[t],overlay:this.#N(e[t])})}attachAnchorOverlays(){const e=document.querySelectorAll("a");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&this.anchorsToOverlays.push({anchor:e[t],overlay:this.#N(e[t])})}clearVideoOverlays(){for(let e=0;e<this.videosToOverlays.length;e++)this.videosToOverlays[e].overlay.parentNode.removeChild(this.videosToOverlays[e].overlay),this.videosToOverlays[e].overlay=null;this.videosToOverlays.length=0}clearAnchorOverlays(){for(let e=0;e<this.anchorsToOverlays.length;e++)this.anchorsToOverlays[e].overlay.parentNode.removeChild(this.anchorsToOverlays[e].overlay),this.anchorsToOverlays[e].overlay=null;this.anchorsToOverlays.length=0}clearIframeOverlays(){for(let e=0;e<this.iframesToOverlays.length;e++)this.iframesToOverlays[e].overlay.parentNode.removeChild(this.iframesToOverlays[e].overlay),this.iframesToOverlays[e].overlay=null;this.iframesToOverlays.length=0}};class ce extends i{#s;#y=null;#t={};#L=!1;#O;#v=!1;#R=!0;#i;#T="71.1";#k=!1;#D=null;#w=12;constructor(e){super(),this.#i=new t(`atag_${e.collectiveZoneId}_suv5_${e.zoneId}`),this.#s=window[e.adcashGlobalName],this.#i.debug("init atag pop with config:",e),this.#t=e,this.elementTargeting=new le(this.#t.targetElementsCssSelector,this.#t.triggerOnTargetElementsClick,this.#t.zoneId),N&&(this.#i.debug("use capture -> false"),this.#R=!1),this.overlays=new de(this.elementTargeting,this.#P.bind(this),this.#i,this.#t.zoneId,this.#R),e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix),this.#i.debug("tag version:",this.#T)}show(){this.#y=null,this.#O=null,this.#L=!1,fetch(this.#S()).then(e=>200===e.status||202===e.status?e.json():(204===e.status&&(this.hasNoInventory=!0,this.#i.debug(`no inventory! reset after ${this.#w} sec`),setTimeout(()=>{this.hasNoInventory=!1},1e3*this.#w),this.#w<7200&&(this.#w*=5)),Promise.reject())).then(V).then(e=>{if(this.#i.debug("response:",e),e.capped_ttl)return this.isCapped=!0,this.#i.debug(`capped! reset after ${e.capped_ttl} sec`),setTimeout(()=>{this.isCapped=!1},1e3*e.capped_ttl),void this.#t.actionCallback(q);if(this.#w>12&&(this.#w=12),!this.#v){this.#v=!0;const t=e.delay??0;return this.#i.debug("delay is",t),void setTimeout(()=>{this.#U(e)},1e3*t)}this.#U(e)}).catch(e=>{if(e&&this.#i.error(e),e&&this.#t.adblockSettings&&!this.#k)return this.#i.debug("fetch call failed. Switch to adblck domain and path"),this.#s.enableAdbMode(),this.#k=!0,void this.show();this.#t.actionCallback(q)})}#S(){let e=`${window.location.protocol}//${this.#t.adserverDomain}/script/suurl5.php`;if(this.#t.adblockSettings&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#t.adblockSettings,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}if(e+=`?r=${this.#t.zoneId}`,this.#v&&(e+="&rbd=1"),this.#t.targetCountries){const t=this.#t.targetCountries.join(",");this.#t.triggerOnTargetCountries?e+="&allowed_countries="+encodeURIComponent(t):e+="&excluded_countries="+encodeURIComponent(t)}return e=e+this.#t.clientHintsQueryStr+"&atag=1&cbur="+Math.random()+"&cbiframe="+a()+"&cbWidth="+c()+"&cbHeight="+h()+"&cbtitle="+encodeURIComponent(u())+"&cbpage="+encodeURIComponent(o())+"&cbref="+encodeURIComponent(g())+"&cbdescription="+encodeURIComponent(p("description"))+"&cbkeywords="+encodeURIComponent(p("keywords"))+"&cbcdn="+encodeURIComponent(this.#s.getCdnDomain())+"&ts="+Date.now()+"&atv="+this.#T+"&ufp="+encodeURIComponent(this.#t.uniqueFingerprint)+"&srs="+this.#s.getSesionRandomString(),this.#t.adblockSettings&&(e+="&abtg=1"),this.#t.aggressivity&&(e+=`&aggr=${this.#t.aggressivity}`),this.#t.collectiveZoneId&&(e+=`&czid=${this.#t.collectiveZoneId}`),this.#t.recordPageView&&(e+="&ppv=1"),this.#t.abTest&&(e+=`&ab_test=${this.#t.abTest}`),!1===this.#t.adsCapping&&(e+="&cap=0"),this.#t.adblockSettings&&this.#t.adblockSettings.adbVersion&&(e+=`&adbv=${this.#t.adblockSettings.adbVersion}`),this.#s.isSandboxed()&&(e+="&sbx=1"),this.#t.adblockSettings&&this.#s.isAdbMode()?(e+="&sadbl=2",e+="&fmt=suv5",this.#i.debug(`bid url: ${e}`),D(e)):(this.#i.debug(`bid url: ${e}`),e)}#$(e){try{let t=this.#D?this.#D(""):window.open("");return t.document.open(),t.document.writeln('<meta name="referrer" content="no-referrer"><script type="text/javascript">window.location = "'+e+'";<\/script>'),t.document.close(),t}catch(e){return this.#i.error("window open failed:",e),null}}#V(){if("complete"===document.readyState&&void 0!==document.body){const e=document.createElement("iframe");return e.width="0",e.height="0",e.tabindex="-1",e.style="position:absolute;top:-1000px;left:-1000px;visibility:hidden;border:medium none;background-color:transparent;",document.body.appendChild(e),void(this.#D=e.contentWindow.open.bind(e.contentWindow))}setTimeout(this.#V.bind(this),50)}#U(e){this.#y={url:this.#M(e.url),impressionUrl:e.iurl,refreshRate:e.refreshRate,delay:e.delay,type:e.type},e.targetElementsCssSelector&&!this.elementTargeting.targetElementsCssSelector&&(this.elementTargeting.targetElementsCssSelector=e.targetElementsCssSelector,this.elementTargeting.shouldTriggerPopOnTargetClick=e.triggerOnTargetElementsClick),this.overlays.attachAnchorOverlays(),this.overlays.attachIframeOverlays(),this.overlays.attachVideoOverlays(),this.overlays.setOverlaysResizeIntervalChecker(),this.#F(),this.#i.debug("ready to show ad")}#q(){return"type"in this.#y&&"tabswap"===this.#y.type}#z(){this.#i.debug("do tabswap"),this.#t.actionCallback(z);const e=this.#y.url;this.#D?this.#O=this.#D(window.location.href,"_blank","noreferrer"):this.#O=window.open(window.location.href,"_blank","noreferrer"),this.#B().finally(()=>{setTimeout(()=>{const t=document.createElement("a");t.href=e,t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t)},50)})}async#B(e=0){const t=this.#O?"1":"0";this.#i.debug("window opened:",t);let i=this.#y.impressionUrl+`&wo=${t}`;if(window["utsid-send"]&&(i+=`&utsid=${window["utsid-send"]}`),e>0&&(this.#i.debug(`retry impression. Attempt ${e}`),i+=`&rtry=${e}`),i=i+this.#t.clientHintsQueryStr+"&cbpage="+encodeURIComponent(o())+"&cbref="+encodeURIComponent(g()),this.#i.debug("send impression. url:",i),U){this.#i.debug("keepalive supported!");let t=null,r=!1;try{t=await fetch(i,{keepalive:!0})}catch(e){if(this.#i.error(e),this.#t.adblockSettings&&!this.#s.isAdbMode())return this.#i.debug("imp failed: try alt domain and path"),void this.#s.enableAdbMode();r=!0}if(t&&!t.ok||r)return void(e<2&&(await this.#B(e+1),document.dispatchEvent(new CustomEvent("impression-retry-event"))))}else navigator.sendBeacon?(this.#i.debug("keepalive NOT supported! use sendBeacon"),navigator.sendBeacon(i)):(this.#i.debug("keepalive NOT supported! use image.src"),(new Image).src=i);document.dispatchEvent(new CustomEvent("impression-event"))}#H(){this.overlays.clearOverlaysResizeIntervalChecker(),this.overlays.clearAnchorOverlays(),this.overlays.clearIframeOverlays(),this.overlays.clearVideoOverlays(),this.#y=null,this.#_(),this.#s.isShowingPop=!1,this.#t.actionCallback(q)}#P(e){this.#i.debug(`showAdClickListener triggered by event type ${e.type} on ${e.target.tagName}`),e.isTrusted?this.#y?this.#L?this.#i.debug(`${e.type} on ${e.target.tagName}:pop rejected: current pop is locked`):this.#s.isShowingPop?this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: another pop is being currently shown`):this.elementTargeting.isActionAllowedOnElement(e.target)?(this.#s.isShowingPop=!0,this.#L=!0,this.#i.debug("triggering pop"),this.#q()?this.#z():(this.#D?this.#O=this.#D(this.#y.url,"_blank","noopener,noreferrer"):this.#O=window.open(this.#y.url,"_blank","noopener,noreferrer"),this.#B().finally(()=>{this.#H()}))):this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: action not allowed on element`,e.target):this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: current pop has no ad loaded`):this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: event is not trusted`)}#M(e){let t=e;return b&&w<59||v&&w<56?t='data:text/html;charset=utf-8, <html><meta http-equiv="refresh" content="0;URL='+e+'"></html>':A&&b&&!m&&w>63&&(e="googlechrome://"+e.replace(/(^\w+:|^)\/\//,"")),t}#F(){const e={zoneId:this.#t.zoneId,callback:this.#P.bind(this)};N&&L&&(this.#i.debug("subscribe to scroll"),this.#s.subscribe("scroll",e)),N||(this.#i.debug("subscribe to mousedown"),this.#s.subscribe("mousedown",e,this.#R)),this.#i.debug("subscribe to click"),this.#s.subscribe("click",e,this.#R)}#_(){N&&L&&(this.#i.debug("unsubscribe from scroll"),this.#s.unsubscribe("scroll",this.#t.zoneId)),N||(this.#i.debug("unsubscribe from mousedown"),this.#s.unsubscribe("mousedown",this.#t.zoneId,this.#R)),this.#i.debug("unsubscribe from click"),this.#s.unsubscribe("click",this.#t.zoneId,this.#R)}}class he{constructor(e){this.key=e}isStatePresent(){return null!==window.localStorage.getItem(this.key)}getState(){return JSON.parse(window.localStorage.getItem(this.key))}setState(e){window.localStorage.setItem(this.key,JSON.stringify(e))}removeState(){window.localStorage.removeItem(this.key)}}class ue{#i;#s;#W=null;#j=null;#h;#G=[];#Z=0;#K=null;#Q=1;#X=0;#Y=!1;constructor(e){const{adcashGlobalName:i,collectiveZoneConfig:r,adserverDomain:n,adblockSettings:s,clientHintsQueryStr:o,tagVersionSuffix:a,isLoadedAsPartOfLibrary:l,uniqueFingerprint:d}=e,{collectiveZoneId:c}=r;this.#i=new t(`atag_${c}`),this.#s=window[e.adcashGlobalName],this.#G=r.rotationList,this.#i.debug("init autotag with config:",e);const h=r.indexedFormats;let u=!0;for(const e in h){const t=h[e];switch(e){case"ippg":this.#s.runInPagePush({zoneId:t.zoneId.toString(),refreshRate:t.rr,delay:t.d,maxAds:t.mads,renderPosDesktop:t["render-pos-desktop"],renderPosMobile:t["render-pos-mobile"],offsetTop:t["offset-top"],isAutoTag:!0,collectiveZoneId:c,aggressivity:r.aggressivity,abTest:r.ab_test,recordPageView:u,tagVersionSuffix:a});break;case"suv4":case"pop":this.#j=new ce({zoneId:t.zoneId.toString(),targetElementsCssSelector:t["element-list"],triggerOnTargetElementsClick:"allow"===t["element-action"],targetCountries:t["country-list"],triggerOnTargetCountries:"allow"===t["country-action"],adblockSettings:s,adserverDomain:n,adcashGlobalName:i,clientHintsQueryStr:o,collectiveZoneId:c,aggressivity:r.aggressivity,adsCapping:r.adsCapping,abTest:r.ab_test,recordPageView:u,actionCallback:this.actionCallback.bind(this),tagVersionSuffix:a,isLoadedAsPartOfLibrary:l,uniqueFingerprint:d});break;case"interstitial":this.#W=new ne({zoneId:t.zoneId,isFullscreen:0===t.overlay,adblockSettings:s,adserverDomain:n,adcashGlobalName:i,clientHintsQueryStr:o,collectiveZoneId:c,aggressivity:r.aggressivity,adsCapping:r.adsCapping,abTest:r.ab_test,recordPageView:u,actionCallback:this.actionCallback.bind(this),tagVersionSuffix:a,isLoadedAsPartOfLibrary:l,uniqueFingerprint:d});break;default:this.#i.error(`ad format type not recognised from collective zone config. adformat.type: ${e}; czid: ${czid}`)}}this.localStorageService=new he(`atg_${c}`);const g=this.localStorageService.getState();g&&g.adbExpiresAt>Date.now()&&this.#s.enableAdbMode(),g&&g.expiresAt>Date.now()?(this.#i.debug("previous session present:",g),this.#Q=g.shownAdsCounter,this.#X=g.iterationCounter,this.#Z=g.currentAdIndex,g.isInterstitialBeingShown?this.#J():(this.#K=this.#G[this.#Z],this.#ee())):(this.#K=this.#G[this.#Z],this.#ee())}actionCallback(e){this.#i.debug("ACTION CALLBACK type:",e),e===F?this.#Y=!1:this.#Q++;const t=this.#K.rotationInterval;this.#te(),this.#ie(),e===z?this.#i.debug("tabswap, move to next and store session"):(this.#i.debug(`show next ad after ${t} sec`),setTimeout(this.#ee.bind(this),1e3*t))}#ie(){const e={shownAdsCounter:this.#Q,iterationCounter:this.#X,currentAdIndex:this.#Z,isInterstitialBeingShown:this.#Y,expiresAt:Date.now()+6e5,adbExpiresAt:this.#s.isAdbMode()?Date.now()+se:0};this.#i.debug("store session state",e),this.localStorageService.setState(e)}#re(){if(!this.#K.apply)return!1;switch(this.#K.apply){case"1st":return!(0===this.#X);case"odd":return!(this.#X%2==1);case"even":return!(this.#X%2==0);default:return!1}}#te(){this.#Z===this.#G.length-1?(this.#Z=0,this.#X++):this.#Z++,this.#K=this.#G[this.#Z],this.#i.debug("set current ad to next on list. current ad is set to:",this.#K)}#J(){this.#i.debug("show next ad"),this.#te(),this.#ie(),this.#ee()}#ee(){if(this.#re())return this.#i.debug(`skipping ad at index: ${this.#Z} due to apply rule`),void this.#J();switch(this.#K.type){case"interstitial":if(this.#W.isCapped||this.#W.hasNoInventory)return void setTimeout(this.#J.bind(this),1e3);this.#i.debug("showing interstitial"),this.#W.show(this.#Q),this.#Y=!0,this.#Q++,this.#ie();break;case"pop":if(this.#j.isCapped||this.#j.hasNoInventory)return void setTimeout(this.#J.bind(this),1e3);this.#i.debug("showing pop"),this.#j.show(this.#Q);break;default:throw Error(`rotation list element type '${this.#K.type}' not recognised`)}}}const ge=function(){this.element===window?(this.divOverlay.style.width=`${window.innerWidth||document.body.clientWidth}px`,this.divOverlay.style.height=`${window.innerHeight||document.body.clientHeight}px`):(this.divOverlay.style.top=`${this.element.offsetTop}px`,this.divOverlay.style.left=`${this.element.offsetLeft}px`,this.divOverlay.style.width=`${this.element.offsetWidth}px`,this.divOverlay.style.height=`${this.element.offsetHeight}px`,this.divOverlay.style.zIndex=Y)};class pe{observer=null;iframesToOverlays=[];videosToOverlays=[];anchorsToOverlays=[];fullOverlay=null;overlaysResizeIntervalChecker=null;adUrl="";isTabSwap=!1;modifyBodyObserver=!0;#i;#d;#R=!1;constructor(e,t,i,r,n,s){this.elementTargeting=e,this.desktopClickListener=t,this.mobileClickListener=i,this.#i=r,this.#d=n,this.#R=s}setOverlaysResizeIntervalChecker(){this.overlaysResizeIntervalChecker=setInterval(()=>{const e=(e,t)=>{try{const i=t.getBoundingClientRect();e.style.top=`${i.top+window.scrollY}px`,e.style.left=`${i.left+window.scrollX}px`,e.style.width=`${i.width}px`,e.style.height=`${i.height}px`}catch(e){}};this.anchorsToOverlays.forEach(({overlay:t,anchor:i})=>e(t,i)),this.iframesToOverlays.forEach(({overlay:t,iframe:i})=>e(t,i)),this.videosToOverlays.forEach(({overlay:t,video:i})=>e(t,i))},500)}clearOverlaysResizeIntervalChecker(){try{clearInterval(this.overlaysResizeIntervalChecker)}catch(e){}}#ne(){const e=document.createElement("a");return e.setAttribute("href",this.adUrl),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"),e.innerText="",e.addEventListener("click",e=>{this.#i.debug("click on overlay is mobile no tabswap no capture"),e.stopPropagation(),this.mobileClickListener(e)}),e}#se(){const e=document.createElement("div");return e.addEventListener("mousedown",e=>{this.#i.debug("mousedown on overlay"),this.desktopClickListener(e)},this.#R),e.addEventListener("click",e=>{this.#i.debug("click on overlay"),this.desktopClickListener(e)},this.#R),e}#N(e){let t;const i=e===document.body;if(t=N&&i&&!this.isTabSwap?this.#ne():this.#se(),i)t.id=J,t.style.top="0px",t.style.left="0px",t.style.width=`${window.innerWidth||document.body.clientWidth}px`,t.style.height=`${window.innerHeight||document.body.clientHeight}px`,t.style.position="fixed";else{const i=e.getBoundingClientRect();t.style.top=`${i.top+window.scrollY}px`,t.style.left=`${i.left+window.scrollX}px`,t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.position="absolute",t.setAttribute(ee,"")}return t.setAttribute(te,this.#d),t.style.zIndex=this.#oe(e).toString(),t.style.backgroundColor="transparent",document.body.appendChild(t),t}attachVideoOverlays(){const e=document.querySelectorAll("video");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&(this.videosToOverlays.push({video:e[t],overlay:this.#N(e[t])}),this.#i.debug("VIDEO OVERLAY ATTACHED TO",this.videosToOverlays[this.videosToOverlays.length-1]))}attachIframeOverlays(){const e=document.querySelectorAll("iframe");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&(this.iframesToOverlays.push({iframe:e[t],overlay:this.#N(e[t])}),this.#i.debug("IFRAME OVERLAY ATTACHED TO",this.iframesToOverlays[this.iframesToOverlays.length-1]))}attachAnchorOverlays(){const e=document.querySelectorAll("a");for(let t=0;t<e.length;t++)this.elementTargeting.isActionAllowedOnElement(e[t])&&this.anchorsToOverlays.push({anchor:e[t],overlay:this.#N(e[t])})}clearVideoOverlays(){for(let e=0;e<this.videosToOverlays.length;e++)this.videosToOverlays[e].overlay.parentNode.removeChild(this.videosToOverlays[e].overlay),this.videosToOverlays[e].overlay=null;this.videosToOverlays.length=0}clearAnchorOverlays(){for(let e=0;e<this.anchorsToOverlays.length;e++)this.anchorsToOverlays[e].overlay.parentNode.removeChild(this.anchorsToOverlays[e].overlay),this.anchorsToOverlays[e].overlay=null;this.anchorsToOverlays.length=0}clearIframeOverlays(){for(let e=0;e<this.iframesToOverlays.length;e++)this.iframesToOverlays[e].overlay.parentNode.removeChild(this.iframesToOverlays[e].overlay),this.iframesToOverlays[e].overlay=null;this.iframesToOverlays.length=0}attachFullOverlay=()=>{const e=this.#N(document.body);if(f||(r(window,"resize",ge.bind({divOverlay:e,element:window})),r(document.body,"resize",ge.bind({divOverlay:e,element:window}))),this.fullOverlay=e,this.modifyBodyObserver)try{this.#ae()}catch(e){this.#i.error(e)}};clearFullOverlay(){this.#i.debug("clear full overlay"),this.fullOverlay?(this.modifyBodyObserver&&this.#le(),f||(n(window,ge),n(document.body,ge)),this.fullOverlay.parentNode.removeChild(this.fullOverlay),this.fullOverlay=null):this.#i.debug("no overlay to clear")}reattachFullOverlay(){this.modifyBodyObserver=!1,this.clearFullOverlay(),this.attachFullOverlay(),this.modifyBodyObserver=!0}#oe(e){if(e!==document.body&&this.elementTargeting.isPresent()&&!this.elementTargeting.shouldTriggerPopOnTargetClick){const t=window.getComputedStyle(e);let i=parseInt(t.zIndex,10);return Number.isNaN(i)?i=1:i+=1,i}return Y}#ae(){this.observer=new MutationObserver(e=>{for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<i.addedNodes.length;e++)if(i.addedNodes[e].style&&parseInt(i.addedNodes[e].style.zIndex,10)>=1&&i.addedNodes[e].id!==J&&!i.addedNodes[e].hasAttribute("dontfo")&&!i.addedNodes[e].hasAttribute(ee))return this.#i.debug("observed element",i.addedNodes[e],"with zIndex value larger or equal to our full body overlay. reattaching full body overlay"),void this.reattachFullOverlay()}}),this.observer.observe(document.body,{attributes:!1,childList:!0,subtree:!0})}#le(){this.observer&&this.observer.disconnect(),this.observer=null}}class me{targetElementsCssSelector=null;shouldTriggerPopOnTargetClick=!1;#de=!1;constructor(e,t,i){this.targetElementsCssSelector=e,this.shouldTriggerPopOnTargetClick=t,this.zoneId=i}isPresent(){return!!this.targetElementsCssSelector}preventClickOnInterstitialAndBanner(){this.#de=!0}isActionAllowedOnElement(e,t=[],i=[]){if(e.hasAttribute(te))return e.getAttribute(te)===this.zoneId;if(e.hasAttribute("doskip"))return"1"===e.getAttribute(ie)&&!this.#de;0===t.length&&(t=Array.from(document.querySelectorAll(oe)));for(const i of t)if(i.contains(e))return"1"===e.getAttribute(ie)&&!this.#de;if(this.isPresent()){0===i.length&&(i=document.querySelectorAll(this.targetElementsCssSelector));for(let t=0;t<i.length;t++)if(e===i[t])return this.shouldTriggerPopOnTargetClick;return!this.shouldTriggerPopOnTargetClick}return!0}}const fe=Math.random()<.5;class be{#t={};#i=null;#r=0;#n;#s;#o;constructor(e,t,i,r,n){this.#t=e,this.#i=i,this.#r=0,this.#n=t,this.#s=r,this.#o=n}render(e){let t=null;switch(e.type){case 1:this.#i.debug(`rendering INTERSTITIAL IFRAME (type 1) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?_(e.url):Z(e.url);break;case 3:this.#i.debug(`rendering INTERSTITIAL IMAGE (type 3) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?W(e.url,e.ad.url,e.ad.width,e.ad.height):K(e.url,e.ad.url,e.ad.width,e.ad.height);break;case 4:if(e.isHtmlTemplate)return this.#i.debug("rendering INTERSTITIAL HTML CUSTOM (type 4)"),void this.#a(e);this.#i.debug(`rendering INTERSTITIAL HTML (type 4) in ${this.#t.isOverlay?"OVERLAY":"FULLSCREEN"} mode`),t=this.#t.isOverlay?j(ie):Q(ie);break;default:return void this.#i.error(`no such type of interstitial: ${e.type}`)}const i=document.createElement("div");document.body.appendChild(i);const r=i.attachShadow({mode:"open"}),n=this.#t.isOverlay?H:G;if(r.appendChild(n(this.#t.texts.goToButton,e.url,this.#l(),t.content,e.iurl)),4===e.type){const t=r.getElementById("creative_iframe");t.contentWindow.contents=e.html,t.src='javascript:window["contents"]'}if(!this.#t.disableCountdown&&this.#t.moveTimerInsideButtonAfter>0){this.#r=this.#t.moveTimerInsideButtonAfter,r.getElementById("closeButton").innerHTML=this.#l();const e=setInterval(()=>{this.#r--,r.getElementById("closeButton").innerHTML=this.#l(),0===this.#r&&clearInterval(e)},1e3)}r.getElementById("closeButton").addEventListener("click",()=>{this.#r>0||(this.#i.debug("close button click. remove modal host, resize listener if present and do callback"),i.remove(),t.resizeFunc&&window.removeEventListener("resize",t.resizeFunc),this.#n())})}#l(){let e=`${this.#t.texts.pleaseWait}: ${this.#r} ${this.#t.texts.timePlural}`;return 1===this.#r&&(e=`${this.#t.texts.pleaseWait}: ${this.#r} ${this.#t.texts.timeSingle}`),0===this.#r&&(e=this.#t.disableCountdown?this.#t.texts.xLabel:this.#t.texts.skipAd),e}#a(e){const t=(new DOMParser).parseFromString(e.html,"text/html").querySelector("script"),i=document.createElement("script");i.style.zIndex="2147483646",t.src?i.setAttribute("src",t.src):i.innerText=t.innerText;const s=()=>{this.#i.debug("CT-CLICK"),fetch(e.link,{mode:"no-cors"}),n(document,"ct-click",s)},o=()=>{this.#i.debug("CT-CLOSE"),n(document,"ct-click",s),n(document,"ct-close",o),document.body.removeChild(i),this.#n()};r(document,"ct-click",s),r(document,"ct-close",o);let a=e.iurl;window[B]&&(a+=`&utsid=${window[B]}`),i.onload=async()=>{try{await fetch(a.toString())}catch(e){return this.#i.debug(e),void(this.#o&&!this.#s.isAdbMode()&&(this.#i.debug("imp failed: try alt domain and path"),this.#s.enableAdbMode()))}document.dispatchEvent(new CustomEvent("impression-event"))},i.onerror=()=>{this.#i.debug("custom html script failed to load"),this.#n(F)},document.body.appendChild(i)}}const ve="#399afe",ye="inpageclick",we="inpageclose",Te="utsid-send";class Ae extends HTMLElement{#ce;constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this.click=e=>{e.stopPropagation();const t=new CustomEvent(ye,{bubbles:!0});this.dispatchEvent(t)},this.close=e=>{e.stopPropagation();const t=new CustomEvent(we,{bubbles:!0});this.dispatchEvent(t)},this.missclick=()=>{document.dispatchEvent(new CustomEvent("in-page-missclick"))}}connectedCallback(){const e=document.querySelectorAll("in-page-message");let t=0,i="top";for(let i=0;i<e.length;i++)e[i].shadowRoot.childNodes[0]?.offsetHeight&&(t+=e[i].shadowRoot.childNodes[0].offsetHeight);const n=parseInt(this.getAttribute("data-offset-top"),10),s=this.getAttribute("data-render-pos-desktop"),a=this.getAttribute("data-render-pos-mobile");n?t+=n:i=N?a:s;const l=(e=>{const[t,i="right"]=e.position.split("-"),r=document.createElement("div");r.id=`note-${e.id}`,r.style[t]=`${e.offset}px`,r.style[i]="0",r.style.fontFamily='-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',r.style.fontWeight="400",r.style.fontSize="16px",r.style.lineHeight="1.3",r.style.position="fixed",r.style.letterSpacing="-0.31em",r.style.textRendering="optimizespeed",r.style.display="flex",r.style.webkitBoxOrient="horizontal",r.style.webkitBoxDirection="normal",r.style.msFlexFlow="row wrap",r.style.alignContent="flex-start",r.style.alignItems="center",r.style.cursor="pointer",r.style.transition="padding-right 0.1s, top 0.3s",r.style.overflow="hidden",r.style.zIndex="2147483642",r.style.wordWrap="break-word",r.style.width="380px",r.style.paddingTop="20px";const n=()=>{window.innerWidth<380?r.style.width="100%":r.style.width="380px"};n();const s=document.createElement("div");s.style.margin="5px",s.style.borderRadius="55px",s.style.position="relative",s.style.background=ve,s.style.color="#ffffff",s.style.width="70%",s.style.textAlign="center",s.style.height="100px",s.style.justifyContent="center",s.style.display="flex",s.style.alignItems="center";const o=document.createElement("p");o.style.width="90%",o.style.padding="2%",o.style.fontSize="0.9em",o.style.display="inline-block",o.style.letterSpacing="normal",o.style.wordSpacing="normal",o.style.verticalAlign="middle",o.style.textRendering="auto",o.style.textAlign="center";const a=document.createElement("b");a.textContent=e.dataTitle;const l=document.createElement("br"),d=document.createTextNode(e.dataDescription),c=document.createElement("img");c.classList.add("graph"),c.src=e.dataIcon,c.alt="graph",c.style.width="76px",c.style.height="76px",c.style.boxSizing="border-box",c.style.borderRadius="50%",c.style.position="relative",c.style.marginLeft="2%",c.style.border=`4px solid ${ve}`,c.style.display="inline-block",c.style.letterSpacing="normal",c.style.wordSpacing="normal",c.style.verticalAlign="middle",c.style.textRendering="auto",c.style.textAlign="center";const h=document.createElement("div");h.id=`missclick-${e.id}`,h.style.right="0",h.style.top="0",h.style.height="100%",h.style.width=`${e.widthOfMissclickArea}px`,h.style.zIndex="2",h.style.position="absolute",h.style.alignItems="start",h.style.justifyContent="center",h.style.display="flex";const u=document.createElement("div");return u.id=`close-${e.id}`,u.innerHTML="&#10005",u.style.fontSize="20px",u.style.marginTop="10px",u.style.zIndex="23",u.style.display="inline-block",u.style.width="24px",u.style.height="24px",u.style.background="transparent",u.style.textAlign="center",u.style.color="#a6a0a7",u.style.letterSpacing="normal",u.style.wordSpacing="normal",u.style.verticalAlign="middle",u.style.textRendering="auto",u.onmouseover=()=>{u.style.background="#a0a0ff"},u.onmouseout=()=>{u.style.background="transparent"},o.appendChild(a),o.appendChild(l),o.appendChild(d),s.appendChild(o),h.appendChild(u),r.appendChild(s),r.appendChild(c),r.appendChild(h),{content:r,resizeFunc:n}})({id:this.getAttribute("id"),position:i,offset:t,dataTitle:this.getAttribute("data-title"),dataDescription:this.getAttribute("data-description"),dataIcon:this.getAttribute("data-icon"),widthOfMissclickArea:50});this.shadowRoot.appendChild(l.content),this.#ce=l.resizeFunc;const d=this.shadowRoot.getElementById(`note-${this.getAttribute("id")}`),c=this.shadowRoot.getElementById(`close-${this.getAttribute("id")}`),h=this.shadowRoot.getElementById(`missclick-${this.getAttribute("id")}`);if(this.hasAttribute("data-imp-link")){let e=this.getAttribute("data-imp-link");window[Te]&&(e+=`&utsid=${window[Te]}`),e+=`&cbpage=${encodeURIComponent(o())}`,e+=`&cbref=${encodeURIComponent(g())}`;const t=document.createElement("img");t.src=e.toString(),t.style.display="none",t.width=0,t.height=0,d.appendChild(t)}r(d,"click",this.click),r(c,"click",this.close),r(h,"click",this.missclick)}resize(){this.#ce&&this.#ce()}}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const Ee=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],n=xe(e);!t.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=De(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=Oe(t[e]);for(const e in n){const i=n[e];"string"==typeof i&&r.push(Se(i,t))}return r}function Se(e,t){const i=(e=Ie(e,t)).match(/[^[\]]+(?=])/g);if(!i)return e;let r=i.filter(e=>Ee.indexOf(e)>-1);return 0===r.length?e:(r=r.reduce((e,t)=>(e[t]=-1,e),{}),Ie(e,r))}function Ie(e,t){let i=e;for(const e in t){const r=t[e];i=i.replace(new RegExp("(?:\\[|%%)(".concat(e,")(?:\\]|%%)"),"g"),r)}return i}function xe(e){return Array.isArray(e)?e.map(e=>e&&e.hasOwnProperty("url")?e.url:e):e}function Re(e){return/^(https?:\/\/|\/\/)/.test(e)}function Ne(e,t){for(let i=0;i<t.length;i++)if(Le(t[i],e))return!0;return!1}function Le(e,t){if(e&&t){const i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return i.length===r.length&&e.id===t.id&&e.url===t.url}return!1}function Oe(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,"0")}const Pe={track:function(e,t,i){Ce(e,t,i).forEach(e=>{"undefined"!=typeof window&&null!==window&&((new Image).src=e)})},resolveURLTemplates:Ce,extractURLsFromTemplates:xe,filterUrlTemplates:function(e){return e.reduce((e,t)=>{const i=t.url||t;return Re(i)?e.validUrls.push(i):e.invalidUrls.push(i),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:Ne,isTemplateObjectEqual:Le,encodeURIComponentRFC3986:Oe,replaceUrlMacros:Se,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce((t,i)=>t.concat(Array.isArray(i)?e(i):i),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];return i.concat(r).reduce((e,t)=>(Ne(t,e)||e.push(t),e),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:De,isValidUrl:Re,isBrowserEnvironment:function(){return"undefined"!=typeof window},formatMacrosValues:function(e){return"object"!=typeof e?e:JSON.stringify(e)}};function Ue(e){return["true","TRUE","True","1"].includes(e)}const $e={childByName:function(e,t){return Array.from(e.childNodes).find(e=>e.nodeName===t)},childrenByName:function(e,t){return Array.from(e.childNodes).filter(e=>e.nodeName===t)},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith("//")){const{protocol:t}=location;return"".concat(t).concat(e)}if(!e.includes("://")){const i=t.slice(0,t.lastIndexOf("/"));return"".concat(i,"/").concat(e)}return e},parseBoolean:Ue,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,i){const r=t.getAttribute(e);r&&i.setAttribute(e,r)},parseAttributes:function(e){return Array.from(e.attributes).reduce((e,t)=>(e[t.nodeName]=t.nodeValue,e),{})},parseDuration:function(e){if(null==e)return-1;if(Pe.isNumeric(e))return parseInt(e);const t=e.split(":");if(3!==t.length)return-1;const i=t[2].split(".");let r=parseInt(i[0]);2===i.length&&(r+=parseFloat("0.".concat(i[1])));const n=parseInt(60*t[1]),s=parseInt(60*t[0]*60);return isNaN(s)||isNaN(n)||isNaN(r)||n>3600||r>60?-1:s+n+r},getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>!parseInt(e.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>parseInt(e.sequence,10)).sort((e,t)=>e.sequence-t.sequence)},assignAttributes:function(e,t){e&&Array.from(e).forEach(e=>{let{nodeName:i,nodeValue:r}=e;if(i&&r&&t.hasOwnProperty(i)){let e=r;"boolean"==typeof t[i]&&(e=Ue(e)),t[i]=e}})},mergeWrapperAdData:function(e,t){var i;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const r=(t.creatives||[]).filter(e=>e&&"companion"===e.type),n=r.reduce((e,t)=>((t.variations||[]).forEach(t=>{(t.companionClickTrackingURLTemplates||[]).forEach(t=>{Pe.containsTemplateObject(t,e)||e.push(t)})}),e),[]);e.creatives=r.concat(e.creatives);const s=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,o=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach(e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const i in t.trackingEvents[e.type]){const r=t.trackingEvents[e.type][i];Array.isArray(e.trackingEvents[i])||(e.trackingEvents[i]=[]),e.trackingEvents[i]=e.trackingEvents[i].concat(r)}"linear"===e.type&&(s&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),o&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&n.length&&(e.variations||[]).forEach(e=>{e.companionClickTrackingURLTemplates=Pe.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,n)})}),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(i=t.creatives)&&void 0!==i&&i.length){const i=t.creatives.filter(e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length});i.length&&(e.creatives=e.creatives.concat(i))}}};function Ve(e,t){const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:r,apiFramework:n}=ke(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"companion",required:null,variations:[]}}(t);return i.required=e.getAttribute("required")||null,i.variations=$e.childrenByName(e,"Companion").map(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}($e.parseAttributes(e));t.htmlResources=$e.childrenByName(e,"HTMLResource").reduce((e,t)=>{const i=$e.parseNodeText(t);return i?e.concat(i):e},[]),t.iframeResources=$e.childrenByName(e,"IFrameResource").reduce((e,t)=>{const i=$e.parseNodeText(t);return i?e.concat(i):e},[]),t.staticResources=$e.childrenByName(e,"StaticResource").reduce((e,t)=>{const i=$e.parseNodeText(t);return i?e.concat({url:i,creativeType:t.getAttribute("creativeType")||null}):e},[]),t.altText=$e.parseNodeText($e.childByName(e,"AltText"))||null;const i=$e.childByName(e,"TrackingEvents");i&&$e.childrenByName(i,"Tracking").forEach(e=>{const i=e.getAttribute("event"),r=$e.parseNodeText(e);i&&r&&(Array.isArray(t.trackingEvents[i])||(t.trackingEvents[i]=[]),t.trackingEvents[i].push(r))}),t.companionClickTrackingURLTemplates=$e.childrenByName(e,"CompanionClickTracking").map(e=>({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)})),t.companionClickThroughURLTemplate=$e.parseNodeText($e.childByName(e,"CompanionClickThrough"))||null;const r=$e.childByName(e,"AdParameters");return r&&(t.adParameters={value:$e.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),t}),i}function Me(e,t){let i;const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:r,apiFramework:n}=ke(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);r.duration=$e.parseDuration($e.parseNodeText($e.childByName(e,"Duration")));const n=e.getAttribute("skipoffset");if(null==n)r.skipDelay=null;else if("%"===n.charAt(n.length-1)&&-1!==r.duration){const e=parseInt(n,10);r.skipDelay=r.duration*(e/100)}else r.skipDelay=$e.parseDuration(n);const s=$e.childByName(e,"VideoClicks");if(s){const e=$e.childByName(s,"ClickThrough");r.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:$e.parseNodeText(e)}:null,$e.childrenByName(s,"ClickTracking").forEach(e=>{r.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)})}),$e.childrenByName(s,"CustomClick").forEach(e=>{r.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)})})}const o=$e.childByName(e,"AdParameters");o&&(r.adParameters={value:$e.parseNodeText(o),xmlEncoded:o.getAttribute("xmlEncoded")||null}),$e.childrenByName(e,"TrackingEvents").forEach(e=>{$e.childrenByName(e,"Tracking").forEach(e=>{let t=e.getAttribute("event");const n=$e.parseNodeText(e);if(t&&n){if("progress"===t){if(i=e.getAttribute("offset"),!i)return;t="%"===i.charAt(i.length-1)?"progress-".concat(i):"progress-".concat($e.parseDuration(i))}Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(n)}})}),$e.childrenByName(e,"MediaFiles").forEach(e=>{$e.childrenByName(e,"MediaFile").forEach(e=>{r.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=$e.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);const i=e.getAttribute("scalable");i&&"string"==typeof i&&(t.scalable=$e.parseBoolean(i));const r=e.getAttribute("maintainAspectRatio");return r&&"string"==typeof r&&(t.maintainAspectRatio=$e.parseBoolean(r)),t}(e))});const t=$e.childByName(e,"InteractiveCreativeFile");t&&(r.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:$e.parseBoolean(e.variableDuration),fileURL:null}}($e.parseAttributes(e));return t.fileURL=$e.parseNodeText(e),t}(t));const i=$e.childByName(e,"ClosedCaptionFiles");i&&$e.childrenByName(i,"ClosedCaptionFile").forEach(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}($e.parseAttributes(e));t.fileURL=$e.parseNodeText(e),r.closedCaptionFiles.push(t)});const n=$e.childByName(e,"Mezzanine"),s=function(e){const t={};let i=!1;return["delivery","type","width","height"].forEach(r=>{e&&e.getAttribute(r)?t[r]=e.getAttribute(r):i=!0}),i?null:t}(n);if(s){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};e.id=n.getAttribute("id"),e.fileURL=$e.parseNodeText(n),e.delivery=s.delivery,e.codec=n.getAttribute("codec"),e.type=s.type,e.width=parseInt(s.width,10),e.height=parseInt(s.height,10),e.fileSize=parseInt(n.getAttribute("fileSize"),10),e.mediaType=n.getAttribute("mediaType")||"2D",r.mezzanine=e}});const a=$e.childByName(e,"Icons");return a&&$e.childrenByName(a,"Icon").forEach(e=>{r.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[]};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=$e.parseDuration(e.getAttribute("offset")),t.duration=$e.parseDuration(e.getAttribute("duration")),$e.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=$e.parseNodeText(e)}),$e.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=$e.parseNodeText(e)}),$e.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=$e.parseNodeText(e)});const i=$e.childByName(e,"IconClicks");if(i){t.iconClickThroughURLTemplate=$e.parseNodeText($e.childByName(i,"IconClickThrough")),$e.childrenByName(i,"IconClickTracking").forEach(e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)})});const e=$e.childByName(i,"IconClickFallbackImages");e&&$e.childrenByName(e,"IconClickFallbackImage").forEach(e=>{t.iconClickFallbackImages.push({url:$e.parseNodeText(e)||null,width:e.getAttribute("width")||null,height:e.getAttribute("height")||null})})}return t.iconViewTrackingURLTemplate=$e.parseNodeText($e.childByName(e,"IconViewTracking")),t}(e))}),r}function Fe(e,t){const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:r,apiFramework:n}=ke(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return $e.childrenByName(e,"TrackingEvents").forEach(e=>{let t,r;$e.childrenByName(e,"Tracking").forEach(e=>{t=e.getAttribute("event"),r=$e.parseNodeText(e),t&&r&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(r))})}),$e.childrenByName(e,"NonLinear").forEach(e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=$e.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=$e.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=$e.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),$e.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=$e.parseNodeText(e)}),$e.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=$e.parseNodeText(e)}),$e.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=$e.parseNodeText(e)});const r=$e.childByName(e,"AdParameters");r&&(t.adParameters={value:$e.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),t.nonlinearClickThroughURLTemplate=$e.parseNodeText($e.childByName(e,"NonLinearClickThrough")),$e.childrenByName(e,"NonLinearClickTracking").forEach(e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)})}),i.variations.push(t)}),i}function qe(e){const t=[];return e.forEach(e=>{const i=ze(e);i&&t.push(i)}),t}function ze(e){if("#comment"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},i=e.attributes,r=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const e in i)if(i.hasOwnProperty(e)){const r=i[e];r.nodeName&&r.nodeValue&&(t.attributes[r.nodeName]=r.nodeValue)}for(const e in r)if(r.hasOwnProperty(e)){const i=ze(r[e]);i&&t.children.push(i)}if(0===t.children.length||1===t.children.length&&["#cdata-section","#text"].indexOf(t.children[0].name)>=0){const i=$e.parseNodeText(e);""!==i&&(t.value=i),t.children=[]}return null===(n=t).value&&0===Object.keys(n.attributes).length&&0===n.children.length?null:t;var n}function Be(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const He={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function _e(e,t){let{name:i,parentName:r,attributes:n,subElements:s,oneOfResources:o}=e,a="Element '".concat(i,"'");a+=n?" missing required attribute(s) '".concat(n.join(", "),"' "):s?" missing required sub element(s) '".concat(s.join(", "),"' "):o?" must provide one of the following '".concat(o.join(", "),"' "):" is empty",t("VAST-warning",{message:a,parentElement:r,specVersion:4.1})}const We=function e(t,i,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),function(e,t){if(!He[e.nodeName]||!He[e.nodeName].attributes)return;const i=He[e.nodeName].attributes.filter(t=>!e.getAttribute(t));i.length>0&&_e({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:i},t)}(t,i),function(e){return e.children&&0!==e.children.length}(t)){!function(e,t,i){const r=He[e.nodeName],n=!i&&"Wrapper"!==e.nodeName;if(r&&!n){if(r.subElements){const i=r.subElements.filter(t=>!$e.childByName(e,t));i.length>0&&_e({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:i},t)}i&&r.oneOfinLineResources&&(r.oneOfinLineResources.some(t=>$e.childByName(e,t))||_e({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t))}}(t,i,r);for(let n=0;n<t.children.length;n++)e(t.children[n],i,r)}else 0===$e.parseNodeText(t).length&&_e({name:t.nodeName,parentName:t.parentNode.nodeName},i)};function je(e,t){let{allowMultipleAds:i,followAdditionalWrappers:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Array.from(e.childNodes).filter(e=>{const t=e.nodeName.toLowerCase();return"inline"===t||!1!==r&&"wrapper"===t});for(const r of n){if($e.copyNodeAttribute("id",e,r),$e.copyNodeAttribute("sequence",e,r),$e.copyNodeAttribute("adType",e,r),"Wrapper"===r.nodeName)return{ad:Ke(r,t),type:"WRAPPER"};if("InLine"===r.nodeName)return{ad:Ge(r,t,{allowMultipleAds:i}),type:"INLINE"};const n=r.nodeName.toLowerCase();t("VAST-warning",{message:"<".concat(r.nodeName,"inline"===n?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:r})}}function Ge(e,t){let{allowMultipleAds:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===i&&e.getAttribute("sequence")?null:Ze(e,t)}function Ze(e,t){let i=[];t&&We(e,t);const r=Array.from(e.childNodes),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}($e.parseAttributes(e));return r.forEach(e=>{switch(e.nodeName){case"Error":n.errorURLTemplates.push($e.parseNodeText(e));break;case"Impression":n.impressionURLTemplates.push({id:e.getAttribute("id")||null,url:$e.parseNodeText(e)});break;case"Creatives":n.creatives=function(e){const t=[];return e.forEach(e=>{const i={id:e.getAttribute("id")||null,adId:Be(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},r=[];let n;$e.childrenByName(e,"UniversalAdId").forEach(e=>{const t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:$e.parseNodeText(e)};r.push(t)});const s=$e.childByName(e,"CreativeExtensions");s&&(n=qe($e.childrenByName(s,"CreativeExtension")));for(const s in e.childNodes){const o=e.childNodes[s];let a;switch(o.nodeName){case"Linear":a=Me(o,i);break;case"NonLinearAds":a=Fe(o,i);break;case"CompanionAds":a=Ve(o,i)}a&&(r&&(a.universalAdIds=r),n&&(a.creativeExtensions=n),t.push(a))}}),t}($e.childrenByName(e,"Creative"));break;case"Extensions":{const t=$e.childrenByName(e,"Extension");n.extensions=qe(t),n.adVerifications.length||(i=function(e){let t=null,i=[];return e.some(e=>t=$e.childByName(e,"AdVerifications")),t&&(i=Qe($e.childrenByName(t,"Verification"))),i}(t));break}case"AdVerifications":n.adVerifications=Qe($e.childrenByName(e,"Verification"));break;case"AdSystem":n.system={value:$e.parseNodeText(e),version:e.getAttribute("version")||null};break;case"AdTitle":n.title=$e.parseNodeText(e);break;case"AdServingId":n.adServingId=$e.parseNodeText(e);break;case"Category":n.categories.push({authority:e.getAttribute("authority")||null,value:$e.parseNodeText(e)});break;case"Expires":n.expires=parseInt($e.parseNodeText(e),10);break;case"ViewableImpression":n.viewableImpression.push(function(e){const t=(e,t)=>{const i=$e.parseNodeText(t);return i&&e.push(i),e};return{id:e.getAttribute("id")||null,viewable:$e.childrenByName(e,"Viewable").reduce(t,[]),notViewable:$e.childrenByName(e,"NotViewable").reduce(t,[]),viewUndetermined:$e.childrenByName(e,"ViewUndetermined").reduce(t,[])}}(e));break;case"Description":n.description=$e.parseNodeText(e);break;case"Advertiser":n.advertiser={id:e.getAttribute("id")||null,value:$e.parseNodeText(e)};break;case"Pricing":n.pricing={value:$e.parseNodeText(e),model:e.getAttribute("model")||null,currency:e.getAttribute("currency")||null};break;case"Survey":n.survey={value:$e.parseNodeText(e),type:e.getAttribute("type")||null};break;case"BlockedAdCategories":n.blockedAdCategories.push({authority:e.getAttribute("authority")||null,value:$e.parseNodeText(e)})}}),i.length&&(n.adVerifications=n.adVerifications.concat(i)),n}function Ke(e,t){const i=Ze(e,t),r=e.getAttribute("followAdditionalWrappers"),n=e.getAttribute("allowMultipleAds"),s=e.getAttribute("fallbackOnNoAd");i.followAdditionalWrappers=!r||$e.parseBoolean(r),i.allowMultipleAds=!!n&&$e.parseBoolean(n),i.fallbackOnNoAd=s?$e.parseBoolean(s):null;let o=$e.childByName(e,"VASTAdTagURI");if(o?i.nextWrapperURL=$e.parseNodeText(o):(o=$e.childByName(e,"VASTAdTagURL"),o&&(i.nextWrapperURL=$e.parseNodeText($e.childByName(o,"URL")))),i.creatives.forEach(e=>{if(["linear","nonlinear"].includes(e.type)){if(e.trackingEvents){i.trackingEvents||(i.trackingEvents={}),i.trackingEvents[e.type]||(i.trackingEvents[e.type]={});for(const t in e.trackingEvents){const r=e.trackingEvents[t];Array.isArray(i.trackingEvents[e.type][t])||(i.trackingEvents[e.type][t]=[]),r.forEach(r=>{i.trackingEvents[e.type][t].push(r)})}}e.videoClickTrackingURLTemplates&&(Array.isArray(i.videoClickTrackingURLTemplates)||(i.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach(e=>{i.videoClickTrackingURLTemplates.push(e)})),e.videoClickThroughURLTemplate&&(i.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(i.videoCustomClickURLTemplates)||(i.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach(e=>{i.videoCustomClickURLTemplates.push(e)}))}}),i.nextWrapperURL)return i}function Qe(e){const t=[];return e.forEach(e=>{const i={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=Array.from(e.childNodes);$e.assignAttributes(e.attributes,i),r.forEach(e=>{let{nodeName:t,textContent:r,attributes:n}=e;switch(t){case"JavaScriptResource":case"ExecutableResource":i.resource=r.trim(),$e.assignAttributes(n,i);break;case"VerificationParameters":i.parameters=r.trim()}});const n=$e.childByName(e,"TrackingEvents");n&&$e.childrenByName(n,"Tracking").forEach(e=>{const t=e.getAttribute("event"),r=$e.parseNodeText(e);t&&r&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(r))}),t.push(i)}),t}class Xe{constructor(){this._handlers=[]}on(e,t){if("function"!=typeof t)throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof t));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,i){const r={fired:!1,wrapFn:void 0};function n(){r.fired||(e.off(t,r.wrapFn),r.fired=!0,i.bind(e)(...arguments))}return r.wrapFn=n,n}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter(i=>i.event!==e||i.handler!==t),this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];let n=!1;return this._handlers.forEach(t=>{"*"===t.event&&(n=!0,t.handler(e,...i)),t.event===e&&(n=!0,t.handler(...i))}),n}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(t=>t.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(t=>t.event===e).length}listeners(e){return this._handlers.reduce((t,i)=>(i.event===e&&t.push(i.handler),t),[])}eventNames(){return this._handlers.map(e=>e.event)}}let Ye=0,Je=0;const et=(e,t)=>{!e||!t||e<=0||t<=0||(Je=(Je*Ye+8*e/t)/++Ye)},tt={ERRORCODE:900,extensions:[]},it="VAST response version not supported";class rt extends Xe{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];this.emit("VAST-error",Object.assign({},tt,t,...r)),Pe.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return Je}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),et(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then(e=>this.buildVASTResponse(e))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then(e=>this.buildVASTResponse(e))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:i,version:r}=e;return{ads:t||[],errorURLTemplates:i||[],version:r||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:i=!1,url:r=null,wrapperDepth:n=0,allowMultipleAds:s,followAdditionalWrappers:o}=t;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName){var a;this.emit("VAST-ad-parsed",{type:"ERROR",url:r,wrapperDepth:n});const t="VideoAdServingTemplate"===(null==e||null===(a=e.documentElement)||void 0===a?void 0:a.nodeName);throw new Error(t?it:"Invalid VAST XMLDocument")}const l=[],d=e.documentElement.childNodes,c=e.documentElement.getAttribute("version");i&&c&&(this.vastVersion=c);for(const e in d){const t=d[e];if("Error"===t.nodeName){const e=$e.parseNodeText(t);i?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if("Ad"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)s=!0;else if(!1===s&&l.length>1)break;const e=je(t,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:o});e.ad?(l.push(e.ad),this.emit("VAST-ad-parsed",{type:e.type,url:r,wrapperDepth:n,adIndex:l.length-1,vastVersion:c})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:t=null,resolveAll:i=!0,wrapperSequence:r=null,previousUrl:n=null,wrapperDepth:s=0,isRootVAST:o=!1,followAdditionalWrappers:a,allowMultipleAds:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(l=!0);try{d=this.parseVastXml(e,{isRootVAST:o,url:t,wrapperDepth:s,allowMultipleAds:l,followAdditionalWrappers:a})}catch(e){return Promise.reject(e)}if(1===d.length&&null!=r&&(d[0].sequence=r),!1===i){const e=$e.getSortedAdPods(d),t=$e.getStandAloneAds(d);e.length?d=e:t.length&&(d=[t.shift()]),this.remainingAds=t}return this.resolveAds(d,{wrapperDepth:s,previousUrl:n,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:i,url:r}=arguments.length>1?arguments[1]:void 0;const n=[];return i=r,e.forEach(e=>{const r=this.resolveWrappers(e,t,i);n.push(r)}),Promise.all(n).then(e=>Pe.flatten(e))}resolveWrappers(e,t,i){const r={...e};return new Promise(e=>{var n;if(t++,!r.nextWrapperURL)return delete r.nextWrapperURL,e(r);if(!this.fetcher)return r.VASTAdTagURI=r.nextWrapperURL,delete r.nextWrapperURL,e(r);if(t>=this.maxWrapperDepth)return r.errorCode=302,delete r.nextWrapperURL,e(r);r.nextWrapperURL=$e.resolveVastAdTagURI(r.nextWrapperURL,i);const s=null!==(n=this.parsingOptions.allowMultipleAds)&&void 0!==n?n:r.allowMultipleAds,o=r.sequence;this.fetcher.fetchVAST({url:r.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(n=>this.parse(n,{url:r.nextWrapperURL,previousUrl:i,wrapperSequence:o,wrapperDepth:t,followAdditionalWrappers:r.followAdditionalWrappers,allowMultipleAds:s}).then(t=>{if(delete r.nextWrapperURL,0===t.length)return r.creatives=[],e(r);t.forEach(e=>{e&&$e.mergeWrapperAdData(e,r)}),e(t)})).catch(t=>{r.errorCode=t.message===it?102:301,r.errorMessage=t.message,e(r)})})}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const i=e.ads[t],r=!i.creatives.some(e=>{var t;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0});!i.errorCode&&!r||i.VASTAdTagURI||(this.trackVastError(i.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:i.errorCode||303},{ERRORMESSAGE:i.errorMessage||""},{extensions:i.extensions},{system:i.system}),e.ads.splice(t,1))}}}let nt=null;const st={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class ot{constructor(){this.storage=this.initStorage()}initStorage(){if(nt)return nt;try{nt="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){nt=null}return nt&&!this.isStorageDisabled(nt)||(nt=st,nt.clear()),nt}isStorageDisabled(e){const t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const at=12e4,lt={get:async function(e,t){try{const i=new AbortController,r=setTimeout(()=>{throw i.abort(),new Error("URLHandler: Request timed out after ".concat(t.timeout||at," ms (408)"))},t.timeout||at),n=await fetch(e,{...t,signal:i.signal,credentials:t.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(r)}),s=function(e){return Pe.isBrowserEnvironment()&&"https:"===window.location.protocol&&e.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":200===e.status&&e.ok?null:"URLHandler: ".concat(e.statusText," (").concat(e.status,")")}(n);return s?{error:new Error(s),statusCode:n.status}:async function(e){const t=await e.text();let i;return i=Pe.isBrowserEnvironment()?new DOMParser:new((await Promise.resolve().then(function(){return Gt})).DOMParser),{xml:i.parseFromString(t,"text/xml"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(n)}catch(e){return{error:e,statusCode:"AbortError"===e.name?408:null}}}};class dt{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||lt,this.fetchingOptions={timeout:e.timeout||at,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:i,maxWrapperDepth:r,emitter:n,wrapperDepth:s=0,previousUrl:o=null,wrapperAd:a=null}=e;const l=Date.now();this.URLTemplateFilters.forEach(e=>{i=e(i)}),n("VAST-resolving",{url:i,previousUrl:o,wrapperDepth:s,maxWrapperDepth:r,timeout:this.fetchingOptions.timeout,wrapperAd:a});const d=await this.urlHandler.get(i,this.fetchingOptions),c=Math.round(Date.now()-l);if(n("VAST-resolved",{url:i,previousUrl:o,wrapperDepth:s,error:(null==d?void 0:d.error)||null,duration:c,statusCode:(null==d?void 0:d.statusCode)||null,...null==d?void 0:d.details}),et(null==d||null===(t=d.details)||void 0===t?void 0:t.byteLength,c),d.error)throw new Error(d.error);return d.xml}}class ct{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ot;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new dt,this.vastParser=new rt({fetcher:this.fetcher}),this.storage=i,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Date.now();return t.hasOwnProperty("resolveAll")||(t.resolveAll=!1),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,new Promise((r,n)=>{if(this.cappingFreeLunch>=this.totalCalls)return n(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const s=i-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return n(new Error("VAST call canceled  (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(i=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(i,t).then(e=>{const t=this.vastParser.buildVASTResponse(e);r(t)}))).catch(e=>n(e))})}}class ht extends Xe{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=i,this.variation=r,this.muted=n,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const e in this.creative.trackingEvents){const t=this.creative.trackingEvents[e];this.trackingEvents[e]=t.slice(0)}!function(e){return"linear"===e.type}(this.creative)?this._initVariationTracking():this._initLinearTracking(),e&&this.on("start",()=>{e.lastSuccessfulAd=Date.now()})}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Pe.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Pe.isValidTimeValue(e)||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))});const r=this.skipDelay||-1;if(-1===r||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const r=Math.round(e/this.assetDuration*100),n=[];if(e>0){n.push("start");for(let e=this.lastPercentage;e<r;e++)n.push("progress-".concat(e+1,"%"));n.push("progress-".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(n.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=r}n.forEach(e=>{this.track(e,{macros:t,once:i})}),e<this.progress&&(this.track("rewind",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,i){let r=!1;return t<=i&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))})}setSkipDelay(e){Pe.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach(t=>{this.trackURLs(t.viewable,e)}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach(t=>{this.trackURLs(t.notViewable,e)}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach(t=>{this.trackURLs(t.viewUndetermined,e)}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"object"==typeof e&&"boolean"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Pe.formatMacrosValues(e),", isCustomCode: ").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t?(this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const i=this.ad.adVerifications.find(t=>t.vendor===e);if(!i)throw new Error("No associated verification element found for vendor: ".concat(e));const r=i.trackingEvents;if(r&&r.verificationNotExecuted){const e=r.verificationNotExecuted;this.trackURLs(e,t),this.emit("verificationNotExecuted",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&"object"==typeof t?(t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&"string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Pe.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const i=this.clickThroughURLTemplate||e,r={...t};if(i){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());const e=Pe.resolveURLTemplates([i],r)[0];this.emit("clickthrough",e)}}trackProgressEvents(e,t,i){const r=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter(e=>{let[t]=e;return t.startsWith("progress-")}).map(e=>{let[t,i]=e;return{name:t,time:parseFloat(t.split("-")[1]),urls:i}}).filter(e=>{let{time:t}=e;return t<=r&&t>this.progress}).forEach(e=>{let{name:r,urls:n}=e;!i&&this.trackedProgressEvents.includes(r)||(this.emit(r,{trackingURLTemplates:n}),this.trackURLs(n,t),i?delete this.trackingEvents[r]:this.trackedProgressEvents.push(r))})}track(e){let{macros:t={},once:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(t)});"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,t,i);const r=this.trackingEvents[e],n=this.emitAlwaysEvents.indexOf(e)>-1;r?(this.emit(e,{trackingURLTemplates:r}),this.trackURLs(r,t)):n&&this.emit(e,null),i&&(delete this.trackingEvents[e],n&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:n,invalidUrls:s}=Pe.filterUrlTemplates(e);s.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(s)});const o={...i};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(o.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(o.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(o.UNIVERSALADID=this.creative.universalAdIds.map(e=>e.idRegistry.concat(" ",e.value)).join(",")),this.ad&&(this.ad.sequence&&(o.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(o.ADTYPE=this.ad.adType),this.ad.adServingId&&(o.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(o.ADCATEGORIES=this.ad.categories.map(e=>e.value).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(o.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map(e=>e.value).join(","))),Pe.track(n,o,r)}convertToTimecode(e){if(!Pe.isValidTimeValue(e))return"";const t=1e3*e,i=Math.floor(t/36e5),r=Math.floor(t/6e4%60),n=Math.floor(t/1e3%60),s=Math.floor(t%1e3);return"".concat(Pe.addLeadingZeros(i,2),":").concat(Pe.addLeadingZeros(r,2),":").concat(Pe.addLeadingZeros(n,2),".").concat(Pe.addLeadingZeros(s,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}const ut='<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none">\n<path d="M3.15838 13.9306C2.44537 12.7423 2.44537 11.2577 3.15838 10.0694V10.0694C3.37596 9.70674 3.73641 9.45272 4.1511 9.36978L5.84413 9.03117C5.94499 9.011 6.03591 8.95691 6.10176 8.87788L8.17085 6.39498C9.3534 4.97592 9.94468 4.26638 10.4723 4.45742C11 4.64846 11 5.57207 11 7.41928L11 16.5807C11 18.4279 11 19.3515 10.4723 19.5426C9.94468 19.7336 9.3534 19.0241 8.17085 17.605L6.10176 15.1221C6.03591 15.0431 5.94499 14.989 5.84413 14.9688L4.1511 14.6302C3.73641 14.5473 3.37596 14.2933 3.15838 13.9306V13.9306Z" stroke="white" stroke-width="2"/>\n<path d="M15 15L21 9" stroke="white" stroke-width="2" stroke-linecap="round"/>\n<path d="M21 15L15 9" stroke="white" stroke-width="2" stroke-linecap="round"/>\n</svg>',gt=e=>{const t=e?"gray":"white";return`<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none">\n<path d="M18 6L6 18" stroke="${t}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M6 6L18 18" stroke="${t}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>`},pt=1e3;const mt=e=>"boolean"==typeof e,ft=e=>Number.isInteger(e),bt=e=>"[object String]"===Object.prototype.toString.call(e),vt=e=>["top","bottom","top-left","top-right","bottom-left","bottom-right"].includes(e);const yt=()=>Math.round((new Date).getTime()/1e3),wt=e=>{const i=new t("user_engagement"),r="utsid-send";let n,c=0,h=!1,g=!1,m={clientHints:{},isScrollable:0,totalClicks:0,sessionLength:0,ippMissclicks:0,visible:0,caught:0,lastevent:0,isFullscreen:0,isTabFocused:0,eventImps:0,retryCounts:0,isScrolled:0,isMouseMoved:0,pagePercentageSeen:0,belowTheFoldSeen:0,touchEnd:0,touchMove:0,clicksByType:{idle:0,input:0,video:0,button:0,link:0,img:0},browsingTopics:[],ufp:P()},f=d(),b=yt();function v(){var t,r;0===m.isFullscreen&&(m.isFullscreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement?1:0),m.isTabFocused=document.hidden||document.mozHidden||document.webkitHidden?0:1,m.sessionStartTime=b,m.sessionId=f,m.sessionLength=yt()-b,m.timeZoneOffset=(new Date).getTimezoneOffset(),m.zones=[],e&&(m.zones=e.getZoneIds()),m.pUrl=encodeURIComponent(o()),m.pReferrer=encodeURIComponent((()=>{const e=document.referrer;return e?l(e):""})()),m.pTitle=encodeURI(u()),m.pDescription=encodeURIComponent(p("description",i)),m.pKeywords=encodeURIComponent(p("keywords",i)),m.pHasIframes=(()=>{const e=document.getElementsByTagName("iframe");return e.length?e.length:0})(),m.pWidth=Math.ceil(window.scrollWidth||document.body.scrollWidth),m.pHeight=Math.ceil(window.scrollHeight||document.body.scrollHeight),m.vWidth=Math.ceil(window.innerWidth||document.body.clientWidth),m.vHeight=Math.ceil(window.innerHeight||document.body.clientHeight),m.inIframe=a(),sessionStorage.getItem("template")&&(m.ippTemplate=sessionStorage.getItem("template")),m.visible=(t=m.vWidth,r=m.vHeight,a()&&(t<10||r<10)?0:1),m.caught=(()=>{let e=0;if(a())try{window.top.location.href}catch(t){e=1}return e})(),m.isScrollable=((e,t)=>{if(e>t){const i=.05;return e-t>Math.ceil(t*i)?1:0}return 0})(m.pHeight,m.vHeight)}function y(){i.debug("Touch move detected."),m.touchMove++,g=!0}function w(){1!==m.isMouseMoved&&(i.debug("Mouse move tracked"),m.isMouseMoved=1,g=!0)}function T(){i.debug("Touch end detected."),m.touchEnd++,g=!0,A()}function A(){if(i.debug("checkScrolling()"),m.pHeight<=m.vHeight)return m.pagePercentageSeen=100,void(m.belowTheFoldSeen=100);var e=Math.ceil(window.scrollTop||document.body.scrollTop),t=Math.ceil((e+m.vHeight)/m.pHeight*100);t>100&&(t=100),t!=m.pagePercentageSeen&&(i.debug("Scroll event detected."),m.isScrolled=1,g=!0),t>m.pagePercentageSeen&&(i.debug("Page percentage seen updated."),m.pagePercentageSeen=t,g=!0);var r=Math.ceil(e/(m.pHeight-m.vHeight)*100);r>100&&(r=100),r>m.belowTheFoldSeen&&(i.debug("Bellow the fold percentage seen updated."),m.belowTheFoldSeen=r,g=!0)}function k(){m.ippMissclicks++,g=!0}function E(e){i.debug("Click tracked"),m.totalClicks++;var t=e.target,r=null;do{null!==r&&""!==r||(r=C(t)),t=t.parentElement}while(t&&"body"!==t.nodeName.toLowerCase()&&"document"!==t.nodeName.toLowerCase());null===r&&(r="idle"),m.clicksByType[r]++,g=!0}function C(e){var t=null;return-1!==["a","video","button","input","textarea","img","select"].indexOf(e.nodeName.toLowerCase())&&("a"===(t=e.nodeName.toLowerCase())?t="link":"textarea"!==t&&"select"!==t||(t="input")),t}function S(){i.debug("Impression tracked"),m.eventImps++}function I(){i.debug("Retry tracked!"),m.retryCounts++}function x(){var e="//usrpubtrk.com/ut/hb.php?cb="+Math.random();return e+="&v=1",i.debug("Target Url: "+e.toString()),e}function R(e=!1){if(!h){if(h=!0,v(),e&&(m.lastevent=1),i.isDebugEnabled&&i.debug("send payload:",JSON.parse(JSON.stringify(m))),"navigator"in window&&"sendBeacon"in window.navigator&&void 0!==navigator.sendBeacon&&void 0!==Blob){m.sentTimestamp=Date.now();var t=new Blob([JSON.stringify(m)],{type:"text/plain; charset=UTF-8"});navigator.sendBeacon(x(),t)}else{var r="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("POST",x(),!0),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8");try{m.sentTimestamp=Date.now(),r.send(JSON.stringify(m))}catch(e){}}m.lastevent=0,h=!1}}function N(){i.debug("visibility state is",document.visibilityState),"hidden"===document.visibilityState&&g?(clearInterval(n),R(),g=!1):"visible"===document.visibilityState&&(n=setInterval(O,6e4))}function L(){var e=new CustomEvent(r,{detail:{issued:"UT",data:{utsid:f}}});document.dispatchEvent(e)}function O(){if(m.sessionLength=yt()-b,m.sessionLength>=7200)return i.debug("Session limit reached! Send last payload and tear down"),R(),clearInterval(n),i.debug("detaching behavior listeners"),document.removeEventListener("click",E,!1),document.removeEventListener("mousemove",w,!1),document.removeEventListener("scroll",A,!1),document.removeEventListener("in-page-missclick",k,!1),document.removeEventListener("impression-event",S,!1),document.removeEventListener("impression-retry-event",I,!1),document.removeEventListener("touchend",T,!1),document.removeEventListener("touchmove",y,!1),document.removeEventListener("touchcancel",A,!1),document.removeEventListener("visibilitychange",N),void window.removeEventListener("beforeunload",R);0!==c&&1!==c&&5!==c&&10!==c&&c%30!=0||R(),c++}!async function e(){if("complete"===document.readyState||"interactive"===document.readyState)return m.clientHints=await s(i,true),m.browsingTopics=await async function(){let e=[];if("browsingTopics"in document&&document.featurePolicy.allowsFeature("browsing-topics"))try{e=await document.browsingTopics(),i.debug("document.browsingTopics() return value:",e)}catch(e){i.debug("Error calling document.browsingTopics(): ",e)}return e}(),"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(document.addEventListener("touchend",T,!1),document.addEventListener("touchmove",y,!1),document.addEventListener("touchcancel",A,!1)):(document.addEventListener("mousemove",w,!1),document.addEventListener("scroll",A,!1)),document.addEventListener("click",E,!1),document.addEventListener("impression-event",S,!1),document.addEventListener("impression-retry-event",I,!1),document.addEventListener("in-page-missclick",k,!1),v(),A(),0===c&&O(),n=setInterval(O,6e4),window[r]=f,L(),setTimeout(L,2e4),document.addEventListener("visibilitychange",N),void window.addEventListener("beforeunload",()=>{R(!0)});setTimeout(e,100)}()},Tt="sandboxedDetector";class At{#i;#he;#ue;#ge=!1;#pe=!1;#me=!1;constructor(e,t,i){this.#i=e,this.#he=t,this.#ue=i}isSandboxed(){return this.#pe}load(){if(this.#ge)return void this.#i.debug("already checked");if(this.#ge=!0,this.#i.debug("load sandbox detector"),!a())return void this.#i.debug("not in iframe. exit");this.#i.debug("iframe detected");const e=this.#ue.getState();if(e&&e.expiresAt>Date.now())return this.#i.debug("previous state present. Expires at:",new Date(e.expiresAt)),e.isSandboxed?(this.#i.debug("sandboxed recently! show overlay"),void(this.#pe=!0)):void this.#i.debug("not sandboxed recently. dont check further");this.#i.debug("attach detector listener to events");const t={zoneId:Tt,callback:this.#fe.bind(this)};N||this.#he.subscribe("mousedown",t,!0),this.#he.subscribe("click",t,!0)}#fe(e){if(!e.isTrusted)return void this.#i.debug(`${e.type} on ${e.target.tagName}. Detector skipped: event is not trusted`,e);if(this.#he.isShowingPop)return void this.#i.debug("detector skipped: pop being currently shown");this.#he.isShowingPop=!0,this.#i.debug("detector taking action. prevent other pops from showing");let t=null;try{t=window.open("about:blank","_blank")}catch(e){this.#i.error("detector error",e)}t&&t.close(),null===t&&(this.#i.debug("sandbox detected"),this.#pe=!0),this.#ue.setState({expiresAt:Date.now()+36e5,isSandboxed:this.#pe}),N||this.#he.unsubscribe("mousedown",Tt,!0),this.#he.unsubscribe("click",Tt,!0),setTimeout(()=>{this.#he.isShowingPop=!1},300)}showSandboxWarningOverlay(){this.#me||(this.#me=!0,this.#i.debug("show sandbox warning overlay"),this.#be())}#ve(){const e=document.createElement("div");e.id="sbxwo",Object.assign(e.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#fff",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"20px",boxSizing:"border-box",textAlign:"center"});const t=document.createElement("div");t.innerHTML="\n    <h2>Ad Functionality Blocked</h2>\n    <p>\n      It looks like your page is running in a sandbox that blocks certain functionality.\n      This setting is preventing our ads from working properly.\n      Please disable the sandbox restrictions or adjust your settings.\n    </p>\n  ",t.style.maxWidth="600px";const i=document.createElement("button");i.textContent="Dismiss",Object.assign(i.style,{marginTop:"20px",padding:"10px 20px",fontSize:"16px",cursor:"pointer"}),i.addEventListener("click",()=>{e.remove()}),t.appendChild(i),e.appendChild(t),document.body.appendChild(e)}#be(){const e=document.createElement("div");e.id="sbxwo",Object.assign(e.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",color:"black",zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontFamily:"sans-serif"});const t=document.createElement("div");Object.assign(t.style,{backgroundColor:"white",padding:"30px 40px",borderRadius:"16px",maxWidth:"90%",boxSizing:"border-box"}),t.innerHTML='\n    <h2 style="margin: 0 0 20px; font-size: 24px;">Notice for webmaster</h2>\n    <p style="font-size: 18px; margin: 0;">\n      To continue playing please remove Sandbox from iframe tab or add "allow-popups" to Sandbox\n    </p>\n  ',e.appendChild(t),document.body.appendChild(e)}}const kt="x4G9Tq2Kw6R7v1Dy3P0B5N8Lc9M2zF",Et="ZpQw9XkLmN8c3vR3",Ct="adblock-settings",St=(()=>{let e=document.currentScript;return e||(e=document.getElementById("aclib")),e||(e=document.getElementById("adcash-lib")),e})();let It=null;class xt{#ye;#we={pop:!1,autoTag:!1,inPagePush:!1,interstitial:!1,videoSlider:!1};#Te;#b;#Ae=new Set;#ke=new Set;#i;#Ee=!1;#Ce=!1;#Se;#f="adexchangeclear.com";#T="71.1";#o=null;#Ie="aclib";#xe;#Re=!1;isShowingPop=!1;#C;#Ne=!1;#Le={};#Oe;constructor(e={}){if(It)return It;It=this;let i="aclib";if(e.classes&&(this.#Le=e.classes,i="aclib_adbl"),this.#i=new t(i),this.#Se=(e=>{const t={mousedown:[],click:[],touchstart:[]},i={mousedown:[],scroll:[],click:[],touchstart:[]},r=i=>{const r=i.currentTarget===window?"win":"doc";e.debug(`${r} mousedown with capture: in`),t.mousedown.forEach(t=>{e.debug(`${r} mousedown with capture: calling observer`),t.callback(i)})},n=t=>{const r=t.currentTarget===window?"win":"doc";e.debug(`${r} mousedown: in`),i.mousedown.forEach(i=>{e.debug(`${r} mousedown: calling observer`),i.callback(t)})},s=i=>{const r=i.currentTarget===window?"win":"doc";e.debug(`${r} click with capture: in`),t.click.forEach(t=>{e.debug(`${r} click with capture: calling observer`),t.callback(i)})},o=t=>{const r=t.currentTarget===window?"win":"doc";e.debug(`${r} click: in`),i.click.forEach(i=>{e.debug(`${r} click: calling observer`),i.callback(t)})},a=e=>{i.scroll.forEach(t=>{t.callback(e)})};return{subscribe:(e,r,n)=>{if(!t[e]||!i[e])throw new Error(`${e} is not observable!`);n?t[e].push(r):i[e].push(r)},unsubscribe:(e,r,n)=>{if(!t[e]||!i[e])throw new Error(`${e} is not observable!`);if(n)for(let i=0;i<t[e].length;i++)t[e][i].zoneId===r&&t[e].splice(i,1);else for(let t=0;t<i[e].length;t++)i[e][t].zoneId===r&&i[e].splice(t,1)},attachListeners:()=>{window.addEventListener("mousedown",r,!0),window.addEventListener("mousedown",n,!1),window.addEventListener("click",s,!0),window.addEventListener("click",o,!1),document.addEventListener("mousedown",r,!0),document.addEventListener("mousedown",n),document.addEventListener("click",s,!0),document.addEventListener("click",o),window.addEventListener("scroll",a)},detachListeners:()=>{window.removeEventListener("mousedown",r,!0),window.removeEventListener("mousedown",n,!1),window.removeEventListener("click",s,!0),window.removeEventListener("click",o,!1),document.removeEventListener("mousedown",r,!0),document.removeEventListener("mousedown",n),document.removeEventListener("click",s,!0),document.removeEventListener("click",o),window.removeEventListener("scroll",a)}}})(this.#i),this.#Se.attachListeners(),this.getClientHints(),this.#xe=d(),this.#C=P(),this.#Oe=new At(new t("sd"),It,new he("sndbxchckiborjforqp2")),this.#i.debug("init adcash lib. listeners attached. ready to publish"),this.#i.debug("is mobile device:",N),window[kt]&&(this.#o=JSON.parse(JSON.stringify(window[kt])),this.#ye=this.#o.cdnDomain,delete window[kt]),window[Et]&&(this.#o=JSON.parse(((e,t="xR9tB2pL6q7MwVe")=>[...atob(e)].map((e,i)=>String.fromCharCode(e.charCodeAt(0)^t.charCodeAt(i%t.length))).join(""))(window[Et])),this.#ye=this.#o.cdnDomain,delete window[Et]),this.#o||(this.#ye=new URL(St.src).host,St.hasAttribute(Ct)&&(this.#o=JSON.parse(St.getAttribute(Ct)),St.removeAttribute(Ct))),this.#o&&this.#i.debug("adblock settings:",this.#o),St.getAttribute("data-preview"))return this.#i.debug("preview mode"),void(this.#Ne=!0);this.#De(),this.#Pe(),this.#Ue(),this.#Oe.load()}isSandboxed(){return this.#Oe.isSandboxed()}showSandboxWarningOverlay(){this.#Oe.showSandboxWarningOverlay()}async getClientHints(e){if(void 0===this.#Te){this.#Te=await s(this.#i,!0);let e="";for(const t in this.#Te)e+=`&${t}=${this.#Te[t]}`;this.#b=e}return e?this.#Te:this.#b}getCdnDomain(){return this.#ye}getSesionRandomString(){return this.#xe}enableAdbMode(){this.#i.debug("enable adb mode"),this.#Re=!0}isAdbMode(){return this.#Re}subscribe(e,t,i){this.#Se.subscribe(e,t,i)}unsubscribe(e,t,i){this.#Se.unsubscribe(e,t,i)}#Ue(){if(document.body){const e=document.createElement("a");e.style.display="none",e.style.visibility="hidden",e.style.position="relative",e.style.left="-1000px",e.style.top="-1000px";let t=this.#f;return this.#o&&(t=this.#o.adserverDomain),e.href=`${location.protocol}//${t}/ad/visit.php?al=1`,void document.body.appendChild(e)}setTimeout(this.#Ue.bind(this),100)}#Pe(){wt(It)}#De(){if(document.head){let e=new Set([this.#ye,this.#f]);return this.#o&&e.add(this.#o.adserverDomain),e=Array.from(e),this.#i.debug("prefetch domains:",e),void e.forEach(e=>{const t=document.createElement("link");t.rel="dns-prefetch",t.href=`//${e}`,document.head.appendChild(t)})}setTimeout(this.#De.bind(this),100)}getZoneIds(){return Array.from(this.#Ae)}runPop(e){const{zoneId:t,delay:i,targetElementsCssSelector:r,triggerOnTargetElementsClick:n,targetCountries:s,triggerOnTargetCountries:o,sub1:a,sub2:l,publisherUrl:d,storeUrl:c,c1:h,c2:u,c3:g,pubHash:p,pubClickId:m,pubValue:f,fallbackOn:b,isAutoTag:v,collectiveZoneId:y,aggressivity:w,recordPageView:T,linkedZoneId:A,abTest:k,tagVersionSuffix:E}=e;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");if(void 0!==i&&(!ft(i)||i<0))throw new Error("delay is not an integer or is less than zero");if(void 0!==r){if(!bt(r))throw new Error("targetElementsCssSelector is not a string");if(!(e=>{try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0})(r))throw new Error("targetElementsCssSelector is not a valid css selector");if(!mt(n))throw new Error("triggerOnTargetElementsClick is not a boolean")}if(void 0!==s){if(!(e=>{if(!Array.isArray(e))return!1;if(0===e.length)return!1;for(let t=0;t<e.length;t++)if("string"!=typeof e[t]||!/^[A-Z]{2}$/.test(e[t]))return!1;return!0})(s))throw new Error("targetCountries is not valid");if(!mt(o))throw new Error("triggerOnTargetCountries is not a boolean")}if(this.#ke.has(t))return void this.#i.error(`zoneId ${t} already loaded`);this.#ke.add(t);const C={adcashGlobalName:this.#Ie,zoneId:t,windowOpenTimeout:100,delay:i,targetElementsCssSelector:r,triggerOnTargetElementsClick:n,targetCountries:s,triggerOnTargetCountries:o,adserverDomain:this.#f,adblockSettings:this.#o,uniqueFingerprint:this.#C,sub1:a,sub2:l,publisherUrl:d,storeUrl:c,c1:h,c2:u,c3:g,pubHash:p,pubClickId:m,pubValue:f,fallbackOn:b,isAutoTag:v,collectiveZoneId:y,aggressivity:w,recordPageView:T,linkedZoneId:A,abTest:k,tagVersionSuffix:E};if(this.#Le.PopUnder)return C.isLoadedAsPartOfLibrary=!0,void new this.#Le.PopUnder(C);if(this.#we.pop||this.#Ee){if(window.PopUnder)return this.#Ae.add(C.zoneId),void new PopUnder(C);const e=setInterval(()=>{window.PopUnder&&(this.#Ae.add(C.zoneId),new PopUnder(C),clearInterval(e))},100)}else{this.#i.debug("loading suv5 script on page"),this.#Ee=!0;const e=document.createElement("script");e.type="text/javascript",e.src=`${location.protocol}//${this.#ye}/script/suv5.js`,e.onload=()=>{this.#we.pop=!0,this.#Ee=!1,v?this.#Ae.add(y):this.#Ae.add(C.zoneId),new PopUnder(C)},e.onerror=()=>{this.#we.pop=!1,this.#Ee=!1,this.#i.error(`failed loading ${e.src}`)},document.head.appendChild(e)}}runInPagePush(e){if(this.#we.inPagePush)return void this.#i.error("in-page push zone already loaded on page");this.#we.inPagePush=!0;const{zoneId:t,delay:i,maxAds:r,renderPosDesktop:n,renderPosMobile:s,offsetTop:o,sub1:a,isAutoTag:l,collectiveZoneId:d,linkedZoneId:c,aggressivity:h,recordPageView:u,abTest:g,tagVersionSuffix:p}=e;let{refreshRate:m}=e;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");if(void 0!==m&&(!ft(m)||m<0))throw new Error("refreshRate is not an integer or is less than zero");if(void 0!==i&&(!ft(i)||i<0))throw new Error("delay is not an integer or is less than zero");if(void 0!==r&&(!ft(r)||r<1))throw new Error("maxAds is not an integer or is less than one");if(void 0!==n&&!vt(n))throw new Error("renderPosDesktop is not valid");if(void 0!==s&&!vt(s))throw new Error("renderPosMobile is not valid");if(void 0!==o&&(!ft(o)||o<0))throw new Error("offsetTop is not an integer or is less than zero");this.#i.debug("loading in-page push on page"),l?this.#Ae.add(d):this.#Ae.add(t),void 0!==m&&m>0&&m<10&&(m<5?m*=60:m=30),this.#i.debug("ipp rr set to",m);const f={zoneId:t,refreshRate:m??60,delay:i??0,maxAds:r??1,renderPosDesktop:n??"top",renderPosMobile:s??"top",offsetTop:o??0,sub1:a,isAutoTag:l,collectiveZoneId:d,linkedZoneId:c,aggressivity:h,recordPageView:u,abTest:g,tagVersionSuffix:p,adserverDomain:this.#f,adblockSettings:this.#o,adcashGlobalName:this.#Ie,isLoadedAsPartOfLibrary:!1,uniqueFingerprint:this.#C};if(this.#Le.InPagePush)return f.isLoadedAsPartOfLibrary=!0,void new this.#Le.InPagePush(f);if(window.InPagePush)new window.InPagePush(f);else{const e=document.createElement("script");e.type="text/javascript",e.src=`${window.location.protocol}//${this.#ye}/script/inpagepush.js`,e.setAttribute("nipp","1"),e.onload=()=>{new window.InPagePush(f)},e.onerror=()=>{this.#i.error(`failed loading ${e.src}`)},document.head.appendChild(e)}}runBanner(e){const{zoneId:t,width:i,height:r,renderIn:n,sub1:s,currentScript:o}=e;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");if(void 0!==i&&!ft(i))throw new Error("Banner width is not an integer");if(void 0!==r&&!ft(r))throw new Error("Banner height is not an integer");let a;this.#i.debug("loading banner on page",t),n||(document.currentScript&&document.currentScript.parentElement&&(a=document.currentScript.parentElement),o&&(a=o.parentElement));const l={zoneId:t,width:i,height:r,renderIn:n,currentElement:a,sub1:s,adcashGlobalName:this.#Ie,uniqueFingerprint:this.#C,adblockSettings:this.#o};if(this.#Le.Banner)new this.#Le.Banner(l);else if(this.#we.banner||this.#Ce){if(window.Banner)return this.#Ae.add(l.zoneId),void new Banner(l);const e=setInterval(()=>{window.Banner&&(this.#Ae.add(l.zoneId),new Banner(l),clearInterval(e))},100)}else{this.#Ce=!0;const e=document.createElement("script");e.type="text/javascript",e.src=`${location.protocol}//${this.#ye}/script/banner.js`,e.onload=()=>{this.#we.banner=!0,this.#Ce=!1,this.#Ae.add(l.zoneId),new Banner(l)},e.onerror=()=>{this.#we.banner=!1,this.#Ce=!1,this.#i.error(`failed loading ${e.src}`)},e.setAttribute("data-adel","ban"),e.setAttribute("a-lib","1"),document.head.appendChild(e)}}runInterstitial(e){if(this.#we.interstitial)return void this.#i.error("interstitial zone already loaded on page");this.#we.interstitial=!0;const{zoneId:t,sub1:i,isAutoTag:r,collectiveZoneId:n,linkedZoneId:s,aggressivity:o,recordPageView:a,abTest:l,tagVersionSuffix:d}=e;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");this.#i.debug("loading interstitial on page");const c={zoneId:t,sub1:i,isAutoTag:r,collectiveZoneId:n,linkedZoneId:s,aggressivity:o,recordPageView:a,abTest:l,tagVersionSuffix:d,adcashGlobalName:this.#Ie,adserverDomain:this.#f,adblockSettings:this.#o,uniqueFingerprint:this.#C,isLoadedAsPartOfLibrary:!1};if(this.#Ae.add(t),this.#Le.Interstitial)return c.isLoadedAsPartOfLibrary=!0,void new this.#Le.Interstitial(c);if(window.Interstitial)new Interstitial(c);else{const e=document.createElement("script");e.type="text/javascript",e.src=`${location.protocol}//${this.#ye}/script/interstitial.js`,e.setAttribute("a-lib","1"),e.onload=()=>{new Interstitial(c)},e.onerror=()=>{this.#i.error(`failed loading ${e.src}`)},document.head.appendChild(e)}}async#$e(e,t=!0){this.#i.debug("fetch collective zone config");let i=`${window.location.protocol}//${this.#f}/ad/czcf.php`;if(this.isAdbMode()){const e=`/${O("abcdefgh0123456789")}`;i=`${window.location.protocol}//${this.#o.adserverDomain}${e}`}i+=`?cz=${e}`,i+=`&atv=${this.#T}`;const r=await this.getClientHints();let n;r&&(i+=r),this.isAdbMode()&&(i+="&sadbl=2",i+="&fmt=atg",i=D(i)),this.#i.debug("collective zone config url: ",i);try{n=await fetch(i)}catch(i){return this.#i.error(i),this.#o&&t?(this.#i.debug("collective zone config fetch failed: try alt domain and path"),this.enableAdbMode(),this.#$e(e,!1)):null}return 200!==n.status?null:(n=await n.json(),V(n))}async runAutoTag(e){if(this.#we.autoTag)return void this.#i.error("autotag zone already loaded on page");this.#we.autoTag=!0;const t=e.zoneId;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");const i=await this.#$e(t);if(!i)return void this.#i.error(`failed to fetch collective zone config! czid: ${t}`);if(this.#i.debug("collective zone config:",i),!i.rotationList){this.#i.debug("running in NORMAL MODE (no rotation)");const r=i.indexedFormats;let n=!0;for(const s in r){switch(s){case"suv4":case"pop":this.runPop({zoneId:r[s].zoneId.toString(),targetElementsCssSelector:r[s]["element-list"],triggerOnTargetElementsClick:"allow"===r[s]["element-action"],targetCountries:r[s]["country-list"],triggerOnTargetCountries:"allow"===r[s]["country-action"],isAutoTag:!0,collectiveZoneId:t,aggressivity:i.aggressivity,abTest:i.ab_test,recordPageView:n,tagVersionSuffix:e.tagVersionSuffix});break;case"interstitial":this.runInterstitial({zoneId:r[s].zoneId.toString(),isAutoTag:!0,collectiveZoneId:t,aggressivity:i.aggressivity,abTest:i.ab_test,recordPageView:n,tagVersionSuffix:e.tagVersionSuffix});break;case"ippg":this.runInPagePush({zoneId:r[s].zoneId.toString(),refreshRate:r[s].rr,delay:r[s].d,maxAds:r[s].mads,renderPosDesktop:r[s]["render-pos-desktop"],renderPosMobile:r[s]["render-pos-mobile"],offsetTop:r[s]["offset-top"],isAutoTag:!0,collectiveZoneId:t,aggressivity:i.aggressivity,abTest:i.ab_test,recordPageView:n,tagVersionSuffix:e.tagVersionSuffix});break;default:this.#i.error(`ad format type not recognised from collective zone config. adformat.type: ${s}; czid: ${t}`)}n=!1}return}this.#i.debug("running in ROTATION MODE (rotation present)");const r={adcashGlobalName:this.#Ie,collectiveZoneConfig:i,adserverDomain:this.#f,adblockSettings:this.#o,clientHintsQueryStr:this.#b,tagVersionSuffix:e.tagVersionSuffix,isLoadedAsPartOfLibrary:!1,uniqueFingerprint:this.#C};if(this.#Le.AutoTagRotation)return this.#Ae.add(t),r.isLoadedAsPartOfLibrary=!0,void new this.#Le.AutoTagRotation(r);this.#i.debug("loading autotag rotation script on page");const n=document.createElement("script");n.type="text/javascript",n.src=`${location.protocol}//${this.#ye}/script/atagv2.js`,n.onload=()=>{this.#Ae.add(t),new ue(r)},n.onerror=()=>{this.#i.error(`failed loading ${n.src}`)},document.head.appendChild(n)}runVideoSlider(e){if(this.#we.videoSlider)return void this.#i.error("videoslider zone already loaded on page");this.#we.videoSlider=!0;const{zoneId:t,sub1:i,vastXml:r,linkedZoneId:n}=e;if(!t)throw new Error("mandatory zoneId is not provided!");if(!bt(t))throw new Error("zoneId is not a string!");const s={zoneId:t,sub1:i,adserverDomain:this.#f,adcashGlobalName:this.#Ie,uniqueFingerprint:this.#C,isPreviewMode:this.#Ne,vastXml:r,linkedZoneId:n,adblockSettings:this.#o};if(this.#Le.VideoSlider)return s.isLoadedAsPartOfLibrary=!0,void new this.#Le.VideoSlider(s);if(window.VideoSlider)new VideoSlider(s);else{const e=document.createElement("script");e.type="text/javascript",e.src=`${window.location.protocol}//${this.#ye}/script/videoSliderAlt.js`,e.onload=()=>{this.#Ae.add(t),new VideoSlider(s)},e.onerror=()=>{this.#i.error(`failed loading ${e.src}`)},document.head.appendChild(e)}}}const Rt=new t("aclib_adblock_index");window.Adcash?Rt.debug("lib already on page. exit"):(Rt.debug("load lib on page"),((e={})=>{const t={aclib:new xt(e),Adcash:xt,AtcshAltNm:xt};Object.keys(t).forEach(e=>{Object.defineProperty(window,e,{value:t[e]})})})({classes:{AutoTagRotation:ue,PopUnder:class{#s;#y=null;#t={};#L=!1;#Ve=!1;#Me=!1;#Fe=!1;#O;#v=!1;#R=!0;#i;#T="71.1";#D=null;#qe=12;#k=!1;constructor(e){this.#i=new t(`suv5_${e.zoneId}`),this.#s=window[e.adcashGlobalName],e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix),this.#T+=fe?"-a":"-b",this.#i.debug("tag version:",this.#T),this.#i.debug("init pop with config:",e),this.#t=e,this.elementTargeting=new me(this.#t.targetElementsCssSelector,this.#t.triggerOnTargetElementsClick,this.#t.zoneId),!N||this.elementTargeting.isPresent()||this.#t.linkedZoneId||(this.#R=!1),this.#i.debug("useCapture:",this.#R),this.overlays=new pe(this.elementTargeting,this.#P.bind(this),this.#ze.bind(this),this.#i,this.#t.zoneId,this.#R),this.#V(),this.localStorage=new he(`suv5_${e.zoneId}_state`);const i=this.localStorage.getState();i&&i.adbExpiresAt>Date.now()&&this.#s.enableAdbMode();const r=Date.now();if(i&&i.renderAfterTimestamp>r){const e=i.renderAfterTimestamp-r;this.#i.debug(`previous state present. bid after ${e/1e3} sec`),setTimeout(this.#Be.bind(this),e)}else this.#Be()}async#S(){const e=await this.#s.getClientHints(!1);let t=`${window.location.protocol}//${this.#t.adserverDomain}/script/suurl5.php`;if(this.#t.adblockSettings&&this.#s.isAdbMode()){const{adserverDomain:e}=this.#t.adblockSettings,i=`/${O("abcdefgh0123456789")}`;t=`${window.location.protocol}//${e}${i}`}if(t+=`?r=${this.#t.zoneId}`,this.#v&&(t+="&rbd=1"),this.#t.targetCountries){const e=this.#t.targetCountries.join(",");this.#t.triggerOnTargetCountries?t+="&allowed_countries="+encodeURIComponent(e):t+="&excluded_countries="+encodeURIComponent(e)}return t=t+e+"&cbur="+Math.random()+"&cbiframe="+a()+"&cbWidth="+c()+"&cbHeight="+h()+"&cbtitle="+encodeURIComponent(u())+"&cbpage="+encodeURIComponent(o())+"&cbref="+encodeURIComponent(g())+"&cbdescription="+encodeURIComponent(p("description"))+"&cbkeywords="+encodeURIComponent(p("keywords"))+"&cbcdn="+encodeURIComponent(this.#s.getCdnDomain())+"&ufp="+encodeURIComponent(this.#t.uniqueFingerprint)+"&ts="+Date.now()+"&srs="+this.#s.getSesionRandomString()+"&atv="+this.#T,this.#t.sub1&&(t+=`&sub1=${encodeURIComponent(this.#t.sub1)}`),this.#t.sub2&&(t+=`&sub2=${encodeURIComponent(this.#t.sub2)}`),this.#t.publisherUrl&&(t+=`&pu=${encodeURIComponent(this.#t.publisherUrl)}`),this.#t.storeUrl&&(t+=`&storeurl=${encodeURIComponent(this.#t.storeUrl)}`),this.#t.c1&&(t+=`&c1=${encodeURIComponent(this.#t.c1)}`),this.#t.c2&&(t+=`&c2=${encodeURIComponent(this.#t.c2)}`),this.#t.c3&&(t+=`&c3=${encodeURIComponent(this.#t.c3)}`),this.#t.pubHash&&(t+=`&pub_hash=${encodeURIComponent(this.#t.pubHash)}`),this.#t.pubClickId&&(t+=`&pub_clickid=${encodeURIComponent(this.#t.pubClickId)}`),this.#t.pubValue&&(t+=`&pub_value=${encodeURIComponent(this.#t.pubValue)}`),this.#t.fallbackOn&&(t+=`&fallbackon=${encodeURIComponent(this.#t.fallbackOn)}`),this.#t.adblockSettings&&(t+="&abtg=1"),this.#t.isAutoTag&&(t+="&atag=1"),this.#t.aggressivity&&(t+=`&aggr=${this.#t.aggressivity}`),this.#t.collectiveZoneId&&(t+=`&czid=${this.#t.collectiveZoneId}`),this.#t.recordPageView&&(t+="&ppv=1"),this.#t.linkedZoneId&&(t+=`&pblcz=${this.#t.linkedZoneId}`),this.#t.abTest&&(t+=`&ab_test=${this.#t.abTest}`),this.#t.adblockSettings&&this.#t.adblockSettings.adbVersion&&(t+=`&adbv=${this.#t.adblockSettings.adbVersion}`),this.#s.isSandboxed()&&(t+="&sbx=1"),this.#t.adblockSettings&&this.#s.isAdbMode()?(t+="&sadbl=2",t+="&fmt=suv5",this.#i.debug(`bid url: ${t}`),D(t)):(this.#i.debug(`bid url: ${t}`),t)}#$(e){try{let t=this.#D?this.#D(""):window.open("");return t.document.open(),t.document.writeln('<meta name="referrer" content="no-referrer"><script type="text/javascript">window.location = "'+e+'";<\/script>'),t.document.close(),t}catch(e){return this.#i.error("window open failed:",e),null}}#V(){if(document.body){const e=document.createElement("iframe");return e.width="0",e.height="0",e.tabindex="-1",e.style="position:absolute;top:-1000px;left:-1000px;visibility:hidden;border:medium none;background-color:transparent;",document.body.appendChild(e),void(this.#D=e.contentWindow.open.bind(e.contentWindow))}setTimeout(this.#V.bind(this),50)}#He(){document.body?(this.overlays.isTabSwap=this.#q(),this.overlays.adUrl=this.#y.url,this.#y.preventClick&&(this.#i.debug("prevent triggering when clicking on banner/interstitial"),this.elementTargeting.preventClickOnInterstitialAndBanner()),this.elementTargeting.isPresent()||this.#y.preventClick||window.ippgggaconpg||window.fgsfkxtugsksh?(this.#i.debug("attach video and iframe overlays"),this.overlays.attachIframeOverlays(),this.overlays.attachVideoOverlays(),this.overlays.setOverlaysResizeIntervalChecker()):(this.#i.debug("attach full overlay"),this.#t.linkedZoneId?this.#i.debug("liked zone present. dont attach full overlay"):this.tryToAttachFullOverlay()),this.#F(),this.#i.debug("ready to show ad")):setTimeout(this.#He.bind(this),100)}tryToAttachFullOverlay(){this.#y&&!this.#L&&(document.getElementById(J)?setTimeout(this.tryToAttachFullOverlay.bind(this),100):this.overlays.attachFullOverlay())}#_e(){return this.#y.refreshRate}#We(){this.#qe<7200&&(this.#qe*=5)}#je(){this.#qe>12&&(this.#qe=12)}async#Be(){this.#y=null,this.#O=null,this.#L=!1;const e=await this.#S();let t;try{t=await fetch(e)}catch(e){return this.#t.adblockSettings&&!this.#k?(this.#i.debug("fetch failed: try alt domain and path"),this.#k=!0,this.#s.enableAdbMode(),void this.#Be()):this.#s.isAdbMode()?void this.#i.debug("fetch failed: alt domain and path blocked. exit"):(this.#i.error(`unhandled error: ${e.message}. Try again after 30 seconds`),void setTimeout(this.#Be.bind(this),3e4))}if(204===t.status)return this.#i.debug(`no inventory! try again after ${this.#qe} seconds`),this.#v=!0,setTimeout(()=>{this.#Be()},1e3*this.#qe),void this.#We();if(203!==t.status){if(202===t.status)return t=await t.json(),t=V(t),this.#i.debug("response:",t),this.#v=!0,t.capped_ttl&&(this.#i.debug(`capped! try again after ${t.capped_ttl} seconds`),setTimeout(()=>{this.#Be()},1e3*t.capped_ttl)),t.hIpp&&this.#Ge(t.hIpp),t.hInt&&this.#Ze(t.hInt),void(t.hs&&this.#Ke(t.hs));if(200!==t.status)this.#i.error(`unsupported res status: ${t.status}. try again after 30 seconds`),setTimeout(this.#Be.bind(this),3e4);else{if(t=await t.json(),t=V(t),this.#je(),this.#i.debug("response:",t),!0===t.showSbxMsg)return this.#i.debug("activate sandbox warning and exit"),void this.#s.showSandboxWarningOverlay();if(this.#y={url:this.#M(t.url),impressionUrl:t.iurl,refreshRate:t.refreshRate,delay:t.delay,type:t.type,checkTimeout:t.checkTimeout,preventClick:t.preventClick},t.targetElementsCssSelector&&!this.elementTargeting.targetElementsCssSelector&&(this.elementTargeting.targetElementsCssSelector=t.targetElementsCssSelector,this.elementTargeting.shouldTriggerPopOnTargetClick=t.triggerOnTargetElementsClick),t.hIpp&&this.#Ge(t.hIpp),t.hInt&&this.#Ze(t.hInt),t.hs&&this.#Ke(t.hs),!this.#v){const e=this.#t.delay??t.delay??0;return this.#i.debug("delay is",e),void(e>0?setTimeout(()=>{this.#He()},1e3*e):this.#He())}this.#He()}}else this.#i.debug("fallback detected. exit")}#M(e){let t=e;return b&&w<59||v&&w<56?t='data:text/html;charset=utf-8, <html><meta http-equiv="refresh" content="0;URL='+e+'"></html>':A&&b&&!m&&w>63&&(e="googlechrome://"+e.replace(/(^\w+:|^)\/\//,"")),t}#Ge(e){if(this.#Ve)return void this.#i.debug("hIpp already attached");this.#i.debug("attach hIpp!"),this.elementTargeting.isPresent()||(this.elementTargeting.targetElementsCssSelector=oe,this.elementTargeting.shouldTriggerPopOnTargetClick=!1),this.#Ve=!0,this.#i.debug("hIpp data:",e);const t={zoneId:e.ipp_zone_id.toString(),linkedZoneId:e.source_zone_id.toString(),delay:e.delay,maxAds:1,renderPosDesktop:"top",renderPosMobile:"top",offsetTop:0};this.#s.runInPagePush(t)}#Ze(e){if(this.#Me)return void this.#i.debug("hIntr already attached");this.#i.debug("attach hIntr!"),this.elementTargeting.isPresent()||(this.elementTargeting.targetElementsCssSelector=oe,this.elementTargeting.shouldTriggerPopOnTargetClick=!1),this.#Me=!0,this.#i.debug("hIntr data:",e);const t={zoneId:e.int_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};this.#s.runInterstitial(t)}#Ke(e){if(this.#Fe)return void this.#i.debug("hs already attached!");if(this.#t.isAutoTag)return void this.#i.debug("hs not allowed when autotag");this.#Fe=!0,this.#i.debug("attach hs!"),this.#i.debug("hs data:",e);const t={zoneId:e.slider_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};this.#s.runVideoSlider(t)}#P(e){if(this.#i.debug(`showAdClickListener triggered by event type ${e.type} on ${e.target.tagName}`),!e.isTrusted)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: event is not trusted`);if(!this.#y)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: current pop has no ad loaded`);if(this.#L)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: current pop is locked`);if(this.#s.isShowingPop)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: another pop is being currently shown`);const t=Array.from(document.querySelectorAll(oe));let i=[];if(this.elementTargeting.isPresent()){i=document.querySelectorAll(this.elementTargeting.targetElementsCssSelector),this.#i.debug("event coordinates:",e.clientX,e.clientY);const r=document.elementsFromPoint(e.clientX,e.clientY);let n=!1;for(let s=0;s<r.length;s++){const o=this.elementTargeting.isActionAllowedOnElement(r[s],t,i);if(this.elementTargeting.shouldTriggerPopOnTargetClick&&o){n=!0;break}if(!this.elementTargeting.shouldTriggerPopOnTargetClick&&!o)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: action not allowed - click on area with bl element`,e.target)}if(this.elementTargeting.shouldTriggerPopOnTargetClick&&!n)return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: action not allowed - click on area with no wl element`,e.target)}else if(!this.elementTargeting.isActionAllowedOnElement(e.target,t,i))return void this.#i.debug(`${e.type} on ${e.target.tagName}: pop rejected: action not allowed on element`,e.target);if(this.#s.isShowingPop=!0,this.#L=!0,e.stopPropagation(),e.preventDefault(),this.#i.debug(`${e.type} on ${e.target.tagName}: triggering pop`),!this.#q())return N?(this.#O=!0,void Promise.all([this.#B(),new Promise(e=>{this.#D?e(this.#D(this.#y.url,"_blank","noopener,noreferrer")):e(window.open(this.#y.url,"_blank","noopener,noreferrer"))})]).then(()=>{this.#Qe()})):void(fe?(this.#D?this.#D(this.#y.url,"_blank","noopener,noreferrer"):window.open(this.#y.url,"_blank","noopener,noreferrer"),setTimeout(()=>{this.#O="hidden"===document.visibilityState||!document.hasFocus(),this.#B().finally(()=>{this.#Qe()})},100)):this.#Xe());this.#z()}#Xe(){let e=null,t=!1,i=!1,r=!1,n=!1;const s=()=>{if(!e||i)return;i=!0;const r=performance.now()-e;r>0&&r<80&&(t=!0)},o=()=>{e&&i&&!r&&t&&(r=!0,n=!0)};window.addEventListener("blur",s,!0),window.addEventListener("focus",o,!0),e=performance.now(),this.#D?this.#D(this.#y.url,"_blank","noopener,noreferrer"):window.open(this.#y.url,"_blank","noopener,noreferrer"),setTimeout(()=>{window.removeEventListener("blur",s,!0),window.removeEventListener("focus",o,!0),this.#i.debug("IS p detected",t),this.#i.debug("IS p inst clsd",n),this.#O=t&&!n,this.#B().finally(()=>{this.#Qe()})},100)}#ze(e){this.#i.debug(`showAdMobileClickListener triggered by event type ${e.type} on`,e.target.tagName),e.isTrusted?this.#y?this.#L?this.#i.debug("pop rejected: current pop is locked"):this.#s.isShowingPop?this.#i.debug("pop rejected: another pop is being currently shown"):this.elementTargeting.isActionAllowedOnElement(e.target)?(this.#s.isShowingPop=!0,this.#L=!0,this.#i.debug("triggering pop"),this.#O=!0,this.#B().finally(()=>{this.#Qe()})):this.#i.debug("pop rejected: action not allowed on element",e.target):this.#i.debug("pop rejected: current pop has no ad loaded"):this.#i.debug("pop rejected: event is not trusted")}async#B(e=0){const t=await this.#s.getClientHints(!1);this.#i.debug("window opened:",this.#O);let i=this.#y.impressionUrl+"&wo="+(this.#O?"1":"0");if(window["utsid-send"]&&(i+=`&utsid=${window["utsid-send"]}`),e>0&&(this.#i.debug(`retry impression. Attempt ${e}`),i+=`&rtry=${e}`),i=i+t+"&cbpage="+encodeURIComponent(o())+"&cbref="+encodeURIComponent(g()),this.#i.debug("send impression. url:",i),U){this.#i.debug("keepalive supported!");let t=null,r=!1;try{t=await fetch(i,{keepalive:!0})}catch(e){if(this.#i.error(e),this.#t.adblockSettings&&!this.#s.isAdbMode())return this.#i.debug("imp failed: try alt domain and path"),void this.#s.enableAdbMode();r=!0}if(t&&!t.ok||r)return void(e<2&&(await this.#B(e+1),document.dispatchEvent(new CustomEvent("impression-retry-event"))))}else navigator.sendBeacon?(this.#i.debug("keepalive NOT supported! use sendBeacon"),navigator.sendBeacon(i)):(this.#i.debug("keepalive NOT supported! use image.src"),(new Image).src=i);document.dispatchEvent(new CustomEvent("impression-event"))}#Qe(){this.#i.debug("clear any overlays present"),this.overlays.clearFullOverlay(),this.overlays.clearOverlaysResizeIntervalChecker(),this.overlays.clearIframeOverlays(),this.overlays.clearVideoOverlays(),this.#_(),this.#s.isShowingPop=!1;const e=this.#_e();this.#i.debug("refreshRate time is",e),this.#y=null,e&&e>0&&setTimeout(()=>{this.#i.debug("refreshRate time has passed. Rebid"),this.#v=!0,this.#Be()},1e3*e)}#q(){return"type"in this.#y&&"tabswap"===this.#y.type}#z(){this.#i.debug("do tabswap"),this.localStorage.setState({renderAfterTimestamp:Date.now()+1e3*this.#_e(),adbExpiresAt:this.#s.isAdbMode()?Date.now()+se:0});const e=this.#y.url;this.#D?this.#D(window.location.href,"_blank","noreferrer"):window.open(window.location.href,"_blank","noreferrer"),this.#O=!0,this.#B().finally(()=>{setTimeout(()=>{const t=document.createElement("a");t.href=e,t.rel="noopener noreferrer",document.body.appendChild(t),t.click(),document.body.removeChild(t)},50)})}#F(){const e={zoneId:this.#t.zoneId,callback:this.#P.bind(this)};N&&L&&(this.#i.debug("subscribe to scroll"),this.#s.subscribe("scroll",e)),N||(this.#i.debug("subscribe to mousedown"),this.#s.subscribe("mousedown",e,this.#R)),this.#i.debug("subscribe to click"),this.#s.subscribe("click",e,this.#R)}#_(){N&&L&&(this.#i.debug("unsubscribe from scroll"),this.#s.unsubscribe("scroll",this.#t.zoneId)),N||(this.#i.debug("unsubscribe from mousedown"),this.#s.unsubscribe("mousedown",this.#t.zoneId,this.#R)),this.#i.debug("unsubscribe from click"),this.#s.unsubscribe("click",this.#t.zoneId,this.#R)}},Interstitial:class{#d;#Ye;#Je;#h;#et;#u;#g;#m;#s;#f;#o;#i;#v=!1;#Fe=!1;#t={};#b;#y=null;#w=12;#T="71.1";#A=null;#tt=!1;#it="";#E=!1;#C;constructor(e){this.#i=new t(`interstitial_${e.zoneId}`),this.#i.debug("init interstitial with config:",e),this.#d=e.zoneId,this.#Je=e.isAutoTag,this.#h=e.collectiveZoneId,this.#et=e.linkedZoneId,this.#u=e.aggressivity,this.#g=e.recordPageView,this.#m=e.abTest,this.#s=window[e.adcashGlobalName],this.#f=e.adserverDomain,this.#o=e.adblockSettings,this.#Ye=e.sub1,this.#E=e.isLoadedAsPartOfLibrary,this.#C=e.uniqueFingerprint,e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix),this.#s.getClientHints(!1).then(e=>{this.#b=e,this.#Be()})}async#Be(){const e=this.#S();let t;try{t=await fetch(e)}catch(e){if(this.#i.error(e),this.#o&&!this.#s.isAdbMode())return this.#i.debug("fetch call failed. Switch to adblck domain and path"),this.#s.enableAdbMode(),void this.#Be()}const i=t.status;return 204===i||200!==i&&202!==i?(this.#i.debug(`${204===i?"no inventory":"Invalid response"}! try bidding again after ${this.#w} sec`),setTimeout(this.#Be.bind(this),1e3*this.#w),void(this.#w<7200&&(this.#w*=5))):(t=await t.json(),t=V(t),this.#i.debug("response:",t),this.#w=12,t.hp&&this.#rt(t.hp),t.hs&&this.#Ke(t.hs),t.capped_ttl?(this.#i.debug(`capped! try bidding again after ${t.capped_ttl} sec`),void setTimeout(this.#Be.bind(this),1e3*t.capped_ttl)):t.fallback?(this.#i.debug("render fallback and exit"),void this.#nt(t.fallback)):(this.#v?this.#y=t:(this.#i.debug("initial request. configure"),this.#t={moveTimerInsideButtonAfter:t.moveTimerInsideButtonAfter,delay:t.delay,refreshRate:t.refreshRate,isOverlay:t.isOverlay,disableCountdown:t.disableCountdown,texts:t.texts,showOnInnerLinkClick:t.showOnInnerLinkClick},this.#y=t.adPayload,this.#A=new be(this.#t,this.#n.bind(this),this.#i,this.#s,this.#o)),this.#b&&(this.#y.url+=this.#b,this.#y.iurl+=this.#b),4===this.#y.type&&this.#y.html&&(this.#y.html=`<!DOCTYPE html><html><head><meta name="referrer" content="no-referrer"></head><body>${this.#y.html}</body></html>`),void(!this.#v&&this.#t.delay>0?(this.#i.debug(`delay present. render after: ${this.#t.delay} sec`),setTimeout(this.#I.bind(this),1e3*this.#t.delay)):this.#I())))}#nt(e){this.#i.debug("fallback script str:",e);const t=(new DOMParser).parseFromString(e,"text/html").querySelector("script");if(!t)return void this.#i.error("invalid fallback script. move on");this.#i.debug("fallback script:",t);const i=document.createElement("script");for(const e of t.attributes)i.setAttribute(e.name,e.value);i.src||(i.textContent=t.textContent),document.body.appendChild(i)}#rt(e){this.#i.debug("hp data:",e);const t={zoneId:e.pop_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};e.attributes&&(e.attributes["element-list"]&&(t.targetElementsCssSelector=e.attributes["element-list"],t.triggerOnTargetElementsClick="allow"===e.attributes["element-action"]),e.attributes["country-list"]&&(t.targetCountries=e.attributes["country-list"].trim().split(","),t.triggerOnTargetCountries="allow"===e.attributes["country-action"])),this.#s.runPop(t)}#Ke(e){if(this.#Fe)return void this.#i.debug("hs already attached!");if(this.#Je)return void this.#i.debug("hs not allowed when autotag");this.#Fe=!0,this.#i.debug("attach hs!"),this.#i.debug("hs data:",e);const t={zoneId:e.slider_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};this.#s.runVideoSlider(t)}#n(){if(this.#t.showOnInnerLinkClick&&this.#it)return this.#i.debug("redirect to inner link"),void(window.location.href=this.#it);this.#tt=!1,this.#t.refreshRate>0?(this.#i.debug(`rebid after ${this.#t.refreshRate} sec`),setTimeout(()=>{this.#v=!0,this.#Be()},1e3*this.#t.refreshRate)):this.#i.debug("no rebidding. finish")}#st(){const e=document.querySelectorAll("a"),t=new URL(o()).hostname;for(let i=0;i<e.length;i++)"href"in e[i]&&new URL(e[i].href).hostname===t&&e[i].addEventListener("click",t=>{t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,this.#tt||(this.#i.debug("click on inner link detected. render ad"),this.#tt=!0,this.#it=e[i].href,this.#A.render(this.#y))},{capture:!0})}#I(){this.#i.debug("render"),this.#t.showOnInnerLinkClick?(this.#i.debug("google friendly interstitial. ad will be rendered on inner link click"),this.#st()):this.#A.render(this.#y)}#S(){let e=`${window.location.protocol}//${this.#f}/script/interstitial.php`;if(this.#o&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#o,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}return e+=`?r=${this.#d}`,this.#v&&(e+="&rbd=1"),this.#b&&(e+=this.#b),e=e+`&srs=${this.#s.getSesionRandomString()}`+`&ufp=${encodeURIComponent(this.#C)}`+`&cbpage=${encodeURIComponent(o())}`+`&atv=${this.#T}`+`&cbref=${encodeURIComponent(g())}`,this.#Ye&&(e+=`&sub1=${encodeURIComponent(this.#Ye)}`),this.#Je&&(e+="&atag=1"),this.#h&&(e+=`&czid=${this.#h}`),this.#et&&(e+=`&pblcz=${this.#et}`),this.#u&&(e+=`&aggr=${this.#u}`),this.#o&&(e+="&abtg=1"),this.#g&&(e+="&ppv=1"),this.#m&&(e+=`&ab_test=${this.#m}`),this.#o&&this.#o.adbVersion&&(e+=`&adbv=${this.#o.adbVersion}`),this.#s.isSandboxed()&&(e+="&sbx=1"),this.#o&&this.#s.isAdbMode()?(e+="&sadbl=2",e+="&fmt=intrn",this.#i.debug(`bid url: ${e}`),D(e)):(this.#i.debug(`bid url: ${e}`),e)}},InPagePush:class{#t={};#i;#s;#b="";#ot;#v=!1;#at=!1;#Fe=!1;#T="71.1";#lt=[];#dt=null;#qe=10;#k=!1;constructor(e){this.#i=new t(`ipp_new_${e.zoneId}`),this.#i.debug("init ipp with config:",e),this.#t=e,this.#s=window[e.adcashGlobalName],customElements.get("in-page-message")||customElements.define("in-page-message",Ae),e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix),r(window,"resize",()=>{this.#lt.forEach(({htmlElement:e})=>{e&&e.resize()})}),this.#s.getClientHints(!1).then(e=>{this.#b=e}).finally(()=>{setTimeout(()=>{this.#Be()},1e3*this.#t.delay)})}#S(){let e=`${window.location.protocol}//${this.#t.adserverDomain}/script/push.php`;if(this.#t.adblockSettings&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#t.adblockSettings,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}return e+=`?r=${this.#t.zoneId}&ipp=1`,this.#ot=N?this.#t.renderPosMobile:this.#t.renderPosDesktop,e+=`&mads=${this.#t.maxAds}&position=${this.#ot}`,this.#t.isAutoTag&&(e+=`&czid=${this.#t.collectiveZoneId}&atag=1`),this.#t.aggressivity&&(e+=`&aggr=${this.#t.aggressivity}`),this.#t.adblockSettings&&(e+="&abtg=1"),this.#v&&(e+="&rbd=1"),this.#t.recordPageView&&(e+="&ppv=1"),this.#t.linkedZoneId&&(e+=`&pblcz=${this.#t.linkedZoneId}`),this.#t.abTest&&(e+=`&ab_test=${this.#t.abTest}`),this.#t.sub1&&(e+=`&sub1=${encodeURIComponent(this.#t.sub1)}`),this.#t.adblockSettings&&this.#t.adblockSettings.adbVersion&&(e+=`&adbv=${this.#t.adblockSettings.adbVersion}`),this.#s.isSandboxed()&&(e+="&sbx=1"),e=e+`&srs=${this.#s.getSesionRandomString()}`+`&ufp=${encodeURIComponent(this.#t.uniqueFingerprint)}`+`&cbpage=${encodeURIComponent(o())}`+`&atv=${this.#T}`+`&cbref=${encodeURIComponent(g())}`,this.#b&&(e+=this.#b),this.#dt&&(e+="&ipptr=1"),this.#t.adblockSettings&&this.#s.isAdbMode()?(e+="&sadbl=2",e+="&fmt=ippg",this.#i.debug(`bid url: ${e}`),D(e)):(this.#i.debug(`bid url: ${e}`),e)}#ct(e){this.#i.debug(`rebid after ${e} sec`),setTimeout(this.#Be.bind(this),1e3*e)}#ht(){this.#t.refreshRate>0&&this.#ct(this.#t.refreshRate)}#We(){this.#qe<1200&&(this.#qe*=2)}#je(){this.#qe=10}#ut(){this.#ct(this.#qe),this.#We()}async#Be(){if(this.#gt()>=this.#t.maxAds||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)return this.#i.debug("max ads reached or fullscreen."),void this.#ht();let e,t;try{if(e=await fetch(this.#S()),!e.ok)throw new Error(`HTTP error! Status: ${e.status}`)}catch(e){return this.#i.error(e),this.#t.adblockSettings&&!this.#k?(this.#i.debug("fetch failed. adb present - switch to adb mode"),this.#k=!0,this.#s.enableAdbMode(),void this.#Be()):this.#s.isAdbMode()?void this.#i.debug("fetch failed with adb mode on. exit"):void this.#ut()}return 204===e.status?(this.#i.debug("unsold inventory!"),this.#v=!0,void this.#ut()):200!==e.status&&202!==e.status?(this.#i.error(`response status ${e.status} not recognised!`),void this.#ut()):(this.#v=!0,t=await e.json(),t=V(t),this.#i.debug("response data:",t),202===e.status?(t.hp&&this.#pt(t.hp),t.hs&&this.#Ke(t.hs),t.capped_ttl?(this.#i.debug("capped!"),void this.#ct(t.capped_ttl)):void this.#ut()):(t.hp&&this.#pt(t.hp),t.hs&&this.#Ke(t.hs),t.fallback?this.#nt(t.fallback)?void this.#i.debug("fallback rendered. exit!"):void this.#ut():(this.#je(),this.#t.refreshRate=t.rr,this.#b&&(t.impression_url&&(t.impression_url+=this.#b),t.click_url&&(t.click_url+=this.#b)),2===t.type?this.#dt?this.#i.debug("custom ipp html already present"):this.#mt({script:t.script||"",link:t.click_url,impressionLink:t.impression_url||null}):(this.#lt.push({title:t.title||"",description:t.description||"",icon:t.icon||t.image,link:t.click_url,impressionLink:t.impression_url||null}),this.#ft()),void this.#ht())))}#gt(){return this.#dt?this.#lt.length+1:this.#lt.length}#nt(e){this.#i.debug("fallback script str decoded:",e);const t=(new DOMParser).parseFromString(e,"text/html").querySelector("script");if(!t)return this.#i.error("invalid fallback script. move on"),!1;this.#i.debug("fallback script:",t);const i=document.createElement("script");for(const e of t.attributes)i.setAttribute(e.name,e.value);return i.src||(i.textContent=t.textContent),document.body.appendChild(i),!0}#pt(e){if(this.#at)return void this.#i.debug("hp already attached");if(this.#t.isAutoTag)return void this.#i.debug("hp not allowed when autotag");this.#at=!0,this.#i.debug("attach hp. hp data:",e);const t={zoneId:e.pop_zone_id.toString(),linkedZoneId:e.source_zone_id.toString(),isHPop:!0};e.attributes&&(e.attributes["element-list"]&&(t.targetElementsCssSelector=e.attributes["element-list"],t.triggerOnTargetElementsClick="allow"===e.attributes["element-action"]),e.attributes["country-list"]&&(t.targetCountries=e.attributes["country-list"].trim().split(","),t.triggerOnTargetCountries="allow"===e.attributes["country-action"])),this.#s.runPop(t)}#Ke(e){if(this.#Fe)return void this.#i.debug("hs already attached!");if(this.#t.isAutoTag)return void this.#i.debug("hs not allowed when autotag");this.#Fe=!0,this.#i.debug("attach hs!"),this.#i.debug("hs data:",e);const t={zoneId:e.slider_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};this.#s.runVideoSlider(t)}#mt(e){this.#dt=e;const t=(new DOMParser).parseFromString(this.#dt.script,"text/html").querySelector("script"),i=document.createElement("script");if(t)for(const e of t.attributes)i.setAttribute(e.name,e.value);i.src||(i.innerText=t.innerText);const n=()=>{this.#i.debug("CT-CLICK"),fetch(this.#dt.link,{mode:"no-cors"}),document.removeEventListener("ct-click",n)},s=()=>{this.#i.debug("CT-CLOSE"),document.removeEventListener("ct-click",n),document.removeEventListener("ct-close",s),this.#dt=null,document.body.removeChild(i)};r(document,"ct-click",n),r(document,"ct-close",s);let a=this.#dt.impressionLink;window[Te]&&(a+=`&utsid=${window[Te]}`),a+=`&cbpage=${encodeURIComponent(o())}`,a+=`&cbref=${encodeURIComponent(g())}`,(async()=>{try{await fetch(a.toString())}catch(e){return this.#i.debug(e),void(this.#t.adblockSettings&&!this.#s.isAdbMode()&&(this.#i.debug("imp failed: try alt domain and path"),this.#s.enableAdbMode()))}document.dispatchEvent(new CustomEvent("impression-event"))})(),i.onerror=()=>{this.#i.debug("custom html script failed to load"),this.#dt=null},document.body.appendChild(i)}#ft(){this.#i.debug("drawing.."),this.#lt.forEach(({htmlElement:e})=>{e&&e.remove()}),this.#lt.forEach((e,t)=>{const i=document.createElement("in-page-message");i.setAttribute("doskip","1"),i.setAttribute("id",t.toString()),i.setAttribute("data-icon",e.icon),i.setAttribute("data-title",e.title),i.setAttribute("data-description",e.description),i.setAttribute("data-offset-top",this.#t.offsetTop),i.setAttribute("data-render-pos-desktop",this.#t.renderPosDesktop),i.setAttribute("data-render-pos-mobile",this.#t.renderPosMobile),e.impressionLink&&(i.setAttribute("data-imp-link",e.impressionLink),e.impressionLink=null,document.dispatchEvent(new CustomEvent("impression-event"))),i.addEventListener(ye,()=>{if(N||this.#t.adblockSettings&&this.#s.isAdbMode()){const t=document.createElement("a");t.href=e.link,t.rel="noopener, noreferrer",t.target="_blank",t.click()}else try{window.open(e.link,"_blank","noopener,noreferrer")}catch{}i.remove(),this.#lt.splice(t,1),this.#ft()}),i.addEventListener(we,()=>{i.remove(),this.#lt.splice(t,1),this.#ft()}),e.htmlElement=i,document.body.appendChild(i)})}},Banner:class{#s;#t={};#i;#bt="";#vt;#d=null;#yt=null;#wt=null;#Tt=null;#At;#kt;#f="adexchangeclear.com";#ye="velocecdn.com";#Et;#o;#k=!1;#Fe=!1;#T="71.1";constructor(e){this.#i=new t(`banner_${e.zoneId}`),this.#s=window[e.adcashGlobalName],this.#i.debug("init banner with config:",e),this.#t=e,this.#d=this.#t.zoneId,this.#yt=this.#t.width,this.#wt=this.#t.height,this.#Tt=this.#t.renderIn,this.#o=this.#t.adblockSettings,this.#t.currentScript&&(this.#Et=this.#t.currentScript),this.#At=this.#kt=document.body.clientWidth||window.innerWidth,e.tagVersionSuffix&&(this.#T+=e.tagVersionSuffix),this.#i.debug("tag version:",this.#T),this.#Ct()}#St(){const e=this.#vt.impression_url;(new Image).src=e}async#Ct(){this.#i.debug("get initial ad and config"),this.#bt=await s(this.#i);const e=await this.#It();let t;this.#i.debug("URL to fetch",e);try{t=await fetch(e)}catch(e){return this.#i.error(e),this.#o&&!this.#k?(this.#i.debug("fetch failed: try alt domain and path"),this.#k=!0,this.#s.enableAdbMode(),void this.#Ct()):this.#s.isAdbMode()?void this.#i.debug("fetch failed: alt domain and path blocked. exit"):void this.#i.debug("fetch failed. exit")}if(200===t.status||202===t.status){this.#i.debug("initial fetch received 200 or 202");const e=await t.json();this.#vt=V(e),this.#xt(),this.#vt.hs&&this.#Ke(this.#vt.hs)}else 204===t.status&&this.#i.debug("initial fetch received 204. No inventory")}async#It(){let e=`${window.location.protocol}//${this.#f}/script/banner.php`;if(this.#o&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#o,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}return e+=`?r=${this.#d}`,e+=`&cbpage=${encodeURIComponent(o())}`,e+=`&cbref=${encodeURIComponent(g())}`,e+=`&cbdescription=${encodeURIComponent(p("description"))}`,e+=`&cbkeywords=${encodeURIComponent(p("keywords"))}`,e+=`&cbtitle=${encodeURIComponent(u())}`,e+=`&srs=${d()}`,e+=`&ufp=${encodeURIComponent(this.#t.uniqueFingerprint)}`,e+=`&atv=${this.#T}`,this.#t.sub1&&(e+=`&sub1=${encodeURIComponent(this.#t.sub1)}`),this.#o&&this.#s.isAdbMode()?(e+="&sadbl=2",e+="&fmt=bnr",D(e)):e}#xt(){if(!this.#vt||"undefined"===this.#vt)return;if(this.#vt.hp&&(this.#Rt(this.#vt.hp),1===Object.keys(this.#vt).length))return;if(this.#vt.capped_ttl)return void this.#i.debug("capped");let e;e=this.#Tt?document.querySelector(this.#Tt):this.#t.currentElement?this.#t.currentElement:this.#Et.parentElement,this.#Nt(e);const t=this.#Lt();e.appendChild(t)}#Lt(){let e;return this.#vt.fallback?(this.#i.debug("Banner type - fallback"),e=this.#Ot()):1===this.#vt.render_image?(this.#i.debug("Banner type - image"),e=this.#Dt()):(this.#i.debug("Banner type - html"),e=this.#Pt()),this.#vt.fallback||this.#St(),this.#s||this.#Ut(),e}#Dt(){const e=document.createElement("a");e.href=this.#vt.click_url,e.target="_blank",e.rel="noopener, noreferrer",e.style.display="block",e.style.width=`${this.#yt?this.#yt:this.#vt.width}px`,e.style.height=`${this.#wt?this.#wt:this.#vt.height}px`,e.style.position="relative",e.style.top=0,e.style.left=0,e.style.right=0,e.style.bottom=0,e.setAttribute("doskip","1"),e.setAttribute(ie,"1");const t=document.createElement("img");if(t.src=this.#vt.image_url,t.target="_blank",t.width=this.#yt?this.#yt:this.#vt.width,t.height=this.#wt?this.#wt:this.#vt.height,this.#vt.width>this.#At&&this.#vt.force_resize){const i=(this.#yt?this.#yt:this.#vt.width)/this.#kt;e.style.width=`${this.#kt}px`,e.style.height=`${Math.round((this.#wt?this.#wt:this.#vt.height)/i)}px`,t.style="max-width: 100%;",t.width=this.#kt,t.height=Math.round((this.#wt?this.#wt:this.#vt.height)/i)}return e.appendChild(t),e}#Pt(){const e=document.createElement("div");e.id=`b_${this.#d}`,e.style.display="block",e.style.width=`${this.#yt?this.#yt:this.#vt.width}px`,e.style.height=`${this.#wt?this.#wt:this.#vt.height}px`,e.style.position="relative",e.style.inset="0",e.setAttribute("doskip","1");const t=document.createElement("iframe");t.srcdoc=this.#vt.html,t.style.zIndex=10,t.style.height="100%",t.style.width="100%",t.style.border="none",t.setAttribute("sandbox","allow-scripts"),t.setAttribute("referrerpolicy","no-referrer");const i=document.createElement("div");return i.style.top=0,i.style.left=0,i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.zIndex=11,i.style.backgroundColor="transparent",i.addEventListener("click",e=>{this.#i.debug(`${e.type} on overlay`),this.#i.debug("click recorded:",this.#vt.click_url),window.open(this.#vt.click_url,"_blank","noopener,noreferrer")}),e.appendChild(t),e.appendChild(i),e}#Ot(){const e=`b_${this.#d}`,t=document.createElement("iframe");return t.id=e,t.style.border="medium none",t.style.padding="0",t.style.margin="0",t.style.width=`${this.#yt?this.#yt:this.#vt.width}px`,t.style.height=`${this.#wt?this.#wt:this.#vt.height}px`,t.width=this.#yt?this.#yt:this.#vt.width,t.height=this.#wt?this.#wt:this.#vt.height,t.scrolling="no",t.vspace="0",t.hspace="0",t.allowtransparency="true",t.allowfullscreen="true",t.srcdoc=this.#vt.fallback,t}#Ke(e){if(this.#Fe)return void this.#i.debug("hs already attached!");this.#Fe=!0,this.#i.debug("attach hs!"),this.#i.debug("hs data:",e);const t={zoneId:e.slider_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};this.#s.runVideoSlider(t)}#Rt=e=>{if(this.#s){const t={zoneId:e.pop_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};return e.attributes&&(e.attributes["element-list"]&&(t.targetElementsCssSelector=e.attributes["element-list"],t.triggerOnTargetElementsClick="allow"===e.attributes["element-action"]),e.attributes["country-list"]&&(t.targetCountries=e.attributes["country-list"].trim().split(","),t.triggerOnTargetCountries="allow"===e.attributes["country-action"])),void this.#s.runPop(t)}const t=document.createElement("script");t.type="text/javascript",t.src=`//${this.#ye}/script/suv4.js`,t.setAttribute("zid",e.pop_zone_id),t.setAttribute("lpzi",e.source_zone_id),t.setAttribute("data-adel","lwsu"),t.setAttribute("adlm","ipvipplm"),e.attributes&&Object.keys(e.attributes).forEach(i=>{t.setAttribute(i,e.attributes[i])}),document.body.appendChild(t)};#Nt(e){if(this.#i.debug("Initial viewport:",this.#At),this.#vt.width>this.#At&&this.#vt.force_resize){var t=window.getComputedStyle(e),i=parseFloat(t.paddingLeft),r=parseFloat(t.marginLeft);this.#kt=e.clientWidth-i-r,this.#i.debug("Parent element width:",this.#kt)}}#Ut(){const e=document.createElement("a");e.style.display="none",e.style.visibility="hidden",e.style.position="relative",e.style.left="-1000px",e.style.top="-1000px",e.href=this.#vt.bot_link,document.body.appendChild(e)}},VideoSlider:class{#s;#i;#$t=5;#Vt=!0;#t={};#Mt={};#Ft;#qt="";#v=!1;#T="71.1";#b="";#C="";#zt;#Bt;#Ht=null;#_t=null;#at=!1;#Wt=null;constructor(e){if(this.#i=new t("slider_alt"),this.#t=e,this.#s=window[e.adcashGlobalName],this.#C=e.uniqueFingerprint,this.#qt=`${window.location.protocol}//${this.#t.adserverDomain}`,this.#zt=N?320:426,this.#Bt=N?180:240,this.#t.isPreviewMode)return this.#Mt.renderPosition="right",this.#Mt.closeButtonDelay=10,void this.#Be().catch(e=>{this.#i.error(e)});this.#t.tagVersionSuffix&&(this.#T+=this.#t.tagVersionSuffix),this.#s.getClientHints(!1).then(e=>(this.#b=e,this.#jt())).then(()=>{this.#Mt.hp&&this.#pt(this.#Mt.hp),setTimeout(this.#Be.bind(this),this.#Mt.delay*pt)}).catch(e=>{this.#i.error(e)})}#Gt(){let e=`${this.#qt}/video/slider.php`;if(this.#t.adblockSettings&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#t.adblockSettings,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}return e+=`?r=${this.#t.zoneId}`,e+=`&atv=${this.#T}`,this.#t.adblockSettings&&(e+="&abtg=1"),this.#t.adblockSettings&&this.#t.adblockSettings.adbVersion&&(e+=`&adbv=${this.#t.adblockSettings.adbVersion}`),this.#t.adblockSettings&&this.#s.isAdbMode()&&(e+="&sadbl=2",e+="&fmt=vid",e=D(e)),e}async#jt(){let e=0,t=1;for(;e<3;)try{let e=await fetch(this.#Gt());if(200!==e.status)throw new Error(`HTTP Error. Status: ${e.status}: ${e.statusText}`);return e=await e.json(),this.#Mt=V(e),void this.#i.debug("Zone config loaded:",this.#Mt)}catch(i){this.#i.error("Error fetching zone config",i),this.#t.adblockSettings&&!this.#s.isAdbMode()&&this.#s.enableAdbMode(),this.#i.debug(`Retry in ${t}s`),await M(t*pt),t*=5,e++}throw new Error("Failed to fetch zone configuration after 3 attempts")}async#Be(){let e;try{e=await this.#Zt()}catch(e){return this.#i.error("Get VAST Ad error:",e),void this.#i.debug("exit")}this.#v=!0,this.#Kt(e)}#Qt(){let e=`${this.#qt}/video/select.php`;if(this.#t.adblockSettings&&this.#s.isAdbMode()){const{adserverDomain:t}=this.#t.adblockSettings,i=`/${O("abcdefgh0123456789")}`;e=`${window.location.protocol}//${t}${i}`}return e+=`?r=${this.#t.zoneId}`,this.#t.sub1&&(e+=`&sub1=${encodeURIComponent(this.#t.sub1)}`),this.#v&&(e+="&rbd=1"),this.#b&&(e+=this.#b),this.#s.isSandboxed()&&(e+="&sbx=1"),e=`${e}&srs=${this.#s.getSesionRandomString()}&ufp=${encodeURIComponent(this.#C)}&cbpage=${encodeURIComponent(o())}&atv=${this.#T}&cbref=${encodeURIComponent(g())}`,this.#t.adblockSettings&&(e+="&abtg=1"),this.#t.adblockSettings&&this.#t.adblockSettings.adbVersion&&(e+=`&adbv=${this.#t.adblockSettings.adbVersion}`),this.#t.adblockSettings&&this.#s.isAdbMode()?(e+="&sadbl=2",e+="&fmt=vast",this.#i.debug(`bid url: ${e}`),D(e)):(this.#i.debug("bid url:",e),e)}#Xt(e){if(!e||0===e.length)return null;const t=window.innerWidth,i=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r=i?i.effectiveType:"4g";this.#i.debug("network speed",r),e.sort((e,t)=>Number(t.width)-Number(e.width));let n=e[e.length-1];for(const i of e)if(Number(i.width)<=t){n="slow-2g"===r||"2g"===r?e[e.length-1]:"3g"===r?e.find(e=>Number(e.width)<=480)||n:i;break}return this.#i.debug("file selected",n),n.fileURL}async#Zt(){const e=this.#Qt();let t;if(this.#i.debug("Fetching VAST ad from:",e),this.#_t=new ct,this.#t.isPreviewMode){const e=(new DOMParser).parseFromString(this.#t.vastXml,"application/xml");t=await this.#_t.parseVAST(e)}else try{t=await this.#_t.get(e)}catch(e){if(this.#i.error("Error fetching VAST ad",e),this.#t.adblockSettings&&!this.#s.isAdbMode())return this.#s.enableAdbMode(),this.#Zt()}if(this.#i.debug("Res:",t),!t||!t.ads.length)throw new Error("No ads found in VAST response");const i=t.ads[0];this.#i.debug("Ad:",i);const r=i.creatives.find(e=>"linear"===e.type);if(!r||!r.mediaFiles.length)throw new Error("No valid media file found in VAST response");this.#i.debug("Creative:",r),r.skipDelay&&r.skipDelay>-1?(this.#i.debug("Skip delay present:",r.skipDelay),this.#$t=r.skipDelay):this.#$t=this.#Mt.closeButtonDelay;const n=this.#Xt(r.mediaFiles);if(!n)throw new Error("No suitable media file found.");this.#i.debug("Media file selected:",n);const s=r.videoClickThroughURLTemplate?.url||null;if(!this.#t.isPreviewMode&&!s)throw new Error("No Clickthrough URL found!");return{mediaFileURL:n,clickThroughURL:s,ad:i,creative:r}}#Kt(e){const{mediaFileURL:t,clickThroughURL:i,ad:r,creative:n}=e;this.#Ft=document.createElement("div"),this.#Ft.setAttribute("doskip","1");const s=this.#Ft.attachShadow({mode:"open"}),o=((e,t,i)=>{const r=document.createElement("div");return r.style.position="fixed",r.style.bottom="10px",r.style.width=`${e}px`,r.style.height=`${t}px`,r.style.background="black",r.style.borderRadius="8px",r.style.overflow="hidden",r.style.zIndex="2147483645",r.style.boxShadow="0px 4px 8px rgba(0, 0, 0, 0.2)",r.style.cursor="pointer","left"===i?(r.style.left="0px",r.style.transform="translateX(-100%)"):(r.style.right="0px",r.style.transform="translateX(100%)"),r.style.willChange="transform",r.style.transition="transform 0.5s ease-in-out",r})(this.#zt,this.#Bt,this.#Mt.renderPosition);this.#i.debug("video src",t);const a=document.createElement("video");a.src=t,a.width=this.#zt,a.height=this.#Bt,a.muted=!0,a.style.borderRadius="8px",a.style.objectFit="cover",a.style.display="block",a.controls=!1,a.setAttribute("playsinline",""),a.setAttribute("webkit-playsinline",""),a.setAttribute("autoplay",""),a.setAttribute("preload","auto"),this.#Ht=new ht(null,r,n);let l=!1;a.addEventListener("play",()=>{l||(this.#Ht.track("start"),this.#Ht.trackImpression(),this.#Ht.track("creativeView"),l=!0)}),this.#Wt=()=>this.#Yt(a),document.addEventListener("visibilitychange",this.#Wt);const d={first:!1,mid:!1,third:!1};a.addEventListener("timeupdate",()=>{const e=a.currentTime/a.duration;e>=.25&&!d.first&&(this.#Ht.track("firstQuartile"),d.first=!0),e>=.5&&!d.mid&&(this.#Ht.track("midpoint"),d.mid=!0),e>=.75&&!d.third&&(this.#Ht.track("thirdQuartile"),d.third=!0)}),a.addEventListener("ended",()=>{this.#i.debug("video ended"),this.#Ht.track("complete"),this.#Jt()}),a.addEventListener("error",e=>{this.#i.error("video error",e),this.#Jt()});const c=(()=>{const e=document.createElement("div");e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.background="rgba(0, 0, 0, 0.5)",e.style.borderRadius="50%",e.style.padding="10px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center";const t=document.createElement("div");t.style.width="30px",t.style.height="30px",t.style.border="3px solid rgba(255, 255, 255, 0.3)",t.style.borderTop="3px solid white",t.style.borderRadius="50%";const i=e.attachShadow({mode:"open"}),r=document.createElement("style");return r.textContent="\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n    div {\n      animation: spin 1s linear infinite;\n    }\n  ",i.appendChild(r),i.appendChild(t),e.style.display="none",e})();a.addEventListener("waiting",()=>{this.#i.debug("video waiting"),c.style.display="block"}),a.addEventListener("stalled",()=>{this.#i.debug("video stalled")}),a.addEventListener("playing",()=>{c.style.display="none"}),o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),i&&(this.#Ht.track("clickthrough"),window.open(i,"_blank","noopener,noreferrer"))});let h=!1;a.addEventListener("canplaythrough",()=>{this.#i.debug("canplaythrough triggered"),h||(this.#i.debug("Video loaded successfully, showing ad..."),((e,t,i,r,n)=>{const s=performance.now();requestAnimationFrame(function t(r){const o=r-s,a=Math.min(o/300,1),l=0+a*(2-a)*(i-0);e.style[n]=`${l}px`,a<1&&requestAnimationFrame(t)})})(o,0,this.#zt+10,0,"left"===this.#Mt.renderPosition?"left":"right"),h=!0)});const u=(()=>{const e=document.createElement("div");return e.innerHTML=ut,e.style.position="absolute",e.style.top="5px",e.style.left="5px",e.style.cursor="pointer",e.style.background="rgba(0,0,0,0.5)",e.style.width="32px",e.style.height="32px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.borderRadius="50%",e})();u.onclick=e=>{this.#i.debug("mute button click"),e.stopPropagation(),a.muted=!a.muted,u.innerHTML=a.muted?ut:'<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none">\n<path d="M3.15838 13.9306C2.44537 12.7423 2.44537 11.2577 3.15838 10.0694V10.0694C3.37596 9.70674 3.73641 9.45272 4.1511 9.36978L5.84413 9.03117C5.94499 9.011 6.03591 8.95691 6.10176 8.87788L8.17085 6.39498C9.3534 4.97592 9.94468 4.26638 10.4723 4.45742C11 4.64846 11 5.57207 11 7.41928L11 16.5807C11 18.4279 11 19.3515 10.4723 19.5426C9.94468 19.7336 9.3534 19.0241 8.17085 17.605L6.10176 15.1221C6.03591 15.0431 5.94499 14.989 5.84413 14.9688L4.1511 14.6302C3.73641 14.5473 3.37596 14.2933 3.15838 13.9306V13.9306Z" stroke="white" stroke-width="2"/>\n<path d="M15.5355 8.46447C16.4684 9.39732 16.9948 10.6611 17 11.9803C17.0052 13.2996 16.4888 14.5674 15.5633 15.5076" stroke="white" stroke-width="2" stroke-linecap="round"/>\n<path d="M19.6569 6.34314C21.1494 7.83572 21.9916 9.85769 21.9999 11.9685C22.0083 14.0793 21.182 16.1078 19.7012 17.6121" stroke="white" stroke-width="2" stroke-linecap="round"/>\n</svg>',this.#Ht.track(a.muted?"mute":"unmute")};const g=((e,t)=>{const i=document.createElement("div");if(i.style.position="absolute",i.style.top="5px",i.style.right="5px",i.style.cursor="default",i.style.overflow="hidden",i.style.color="white",i.disabled=!0,e){i.style.height="24px",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.borderRadius="8px",i.style.background="rgba(0,0,0,0.5)",i.style.padding="4px 10px",i.style.fontFamily="'Arial', sans-serif",i.style.fontWeight="bold",i.style.letterSpacing="0.5px",i.style.fontSize="13px",i.style.whiteSpace="nowrap",i.style.gap="6px";let e=Math.ceil(t/1e3);i.innerHTML=`<span id="closeAdText">Close ad in ${e}</span>`;const r=setInterval(()=>{e-=1,e>0?i.innerText=`Close ad in ${e}`:(clearInterval(r),i.innerHTML=`<span id="closeAdText">Close ad</span> ${gt(!1)}`,i.style.background="rgba(0,0,0,0.5)",i.style.cursor="pointer",i.disabled=!1)},1e3)}else i.style.width="32px",i.style.height="32px",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.borderRadius="50%",i.style.background="rgba(255,255,255,0.3)",i.innerHTML=gt(!0);return setTimeout(()=>{e||(i.innerHTML=gt(!1),i.style.background="rgba(0,0,0,0.5)",i.style.cursor="pointer",i.disabled=!1)},t),i})(this.#Vt,1e3*this.#$t);g.onclick=e=>{this.#i.debug("close button click"),g.disabled?e.stopPropagation():(e.stopPropagation(),a.ended||this.#Ht.track("skip"),this.#Ht.track("close"),this.#Jt())},o.appendChild(c),o.appendChild(a),o.appendChild(u),o.appendChild(g),s.appendChild(o),document.body.appendChild(this.#Ft)}#Jt(){this.#Wt&&(document.removeEventListener("visibilitychange",this.#Wt),this.#Wt=null),this.#Ft.remove(),this.#Ft=null,this.#Ht=null,this.#_t=null,this.#t.isPreviewMode||(this.#Mt.refreshRate>0?(this.#i.debug(`try bidding again after ${this.#Mt.refreshRate}s`),setTimeout(this.#Be.bind(this),this.#Mt.refreshRate*pt)):this.#i.debug("no rr. exit"))}#pt(e){if(this.#at)return void this.#i.debug("hp already attached");this.#at=!0,this.#i.debug("attach hp. hp data:",e);const t={zoneId:e.pop_zone_id.toString(),linkedZoneId:e.source_zone_id.toString()};e.attributes&&(e.attributes["element-list"]&&(t.targetElementsCssSelector=e.attributes["element-list"],t.triggerOnTargetElementsClick="allow"===e.attributes["element-action"]),e.attributes["country-list"]&&(t.targetCountries=e.attributes["country-list"].trim().split(","),t.triggerOnTargetCountries="allow"===e.attributes["country-action"])),this.#s.runPop(t)}#Yt=e=>{e.paused&&e.play().catch(e=>{this.#i.error("Autoplay blocked:",e)})}}}}));var Nt,Lt,Ot={},Dt={},Pt={};function Ut(){if(Nt)return Pt;function e(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}Nt=1;var t=e({HTML:"text/html",isHTML:function(e){return e===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Pt.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pt.find=function(e,t,i){if(void 0===i&&(i=Array.prototype),e&&"function"==typeof i.find)return i.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];if(t.call(void 0,n,r,e))return n}},Pt.freeze=e,Pt.MIME_TYPE=t,Pt.NAMESPACE=i,Pt}function $t(){if(Lt)return Dt;Lt=1;var e=Ut(),t=e.find,i=e.NAMESPACE;function r(e){return""!==e}function n(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(r):[]}(e);return Object.keys(t.reduce(n,{}))}function o(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function a(e,t){var i=e.prototype;if(!(i instanceof t)){function r(){}r.prototype=t.prototype,o(i,r=new r),e.prototype=i=r}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var l={},d=l.ELEMENT_NODE=1,c=l.ATTRIBUTE_NODE=2,h=l.TEXT_NODE=3,u=l.CDATA_SECTION_NODE=4,g=l.ENTITY_REFERENCE_NODE=5,p=l.ENTITY_NODE=6,m=l.PROCESSING_INSTRUCTION_NODE=7,f=l.COMMENT_NODE=8,b=l.DOCUMENT_NODE=9,v=l.DOCUMENT_TYPE_NODE=10,y=l.DOCUMENT_FRAGMENT_NODE=11,w=l.NOTATION_NODE=12,T={},A={};T.INDEX_SIZE_ERR=(A[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2);var k=T.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7);var E=T.NOT_FOUND_ERR=(A[8]="Not found",8);T.NOT_SUPPORTED_ERR=(A[9]="Not supported",9);var C=T.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10);function S(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,A[e]),this.message=A[e],Error.captureStackTrace&&Error.captureStackTrace(this,S);return i.code=e,t&&(this.message=this.message+": "+t),i}function I(){}function x(e,t){this._node=e,this._refresh=t,R(this)}function R(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var i=e._refresh(e._node);if(fe(e,"length",i.length),!e.$$length||i.length<e.$$length)for(var r=i.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];o(i,e),e._inc=t}}function N(){}function L(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function O(e,t,r,n){if(n?t[L(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var s=e.ownerDocument;s&&(n&&F(s,e,n),function(e,t,r){e&&e._inc++,r.namespaceURI===i.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(s,e,r))}}function D(e,t,i){var r=L(t,i);if(!(r>=0))throw new S(E,new Error(e.tagName+"@"+i));for(var n=t.length-1;r<n;)t[r]=t[++r];if(t.length=n,e){var s=e.ownerDocument;s&&(F(s,e,i),i.ownerElement=null)}}function P(){}function U(){}function $(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function V(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(V(e,t))return!0}while(e=e.nextSibling)}function M(){this.ownerDocument=this}function F(e,t,r,n){e&&e._inc++,r.namespaceURI===i.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function q(e,t,i){if(e&&e._inc){e._inc++;var r=t.childNodes;if(i)r[r.length++]=i;else{for(var n=t.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function z(e,t){var i=t.previousSibling,r=t.nextSibling;return i?i.nextSibling=r:e.firstChild=r,r?r.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,q(e.ownerDocument,e),t}function B(e){return e&&e.nodeType===U.DOCUMENT_TYPE_NODE}function H(e){return e&&e.nodeType===U.ELEMENT_NODE}function _(e){return e&&e.nodeType===U.TEXT_NODE}function W(e,i){var r=e.childNodes||[];if(t(r,H)||B(i))return!1;var n=t(r,B);return!(i&&n&&r.indexOf(n)>r.indexOf(i))}function j(e,i){var r=e.childNodes||[];if(t(r,function(e){return H(e)&&e!==i}))return!1;var n=t(r,B);return!(i&&n&&r.indexOf(n)>r.indexOf(i))}function G(e,i,r){var n=e.childNodes||[],s=i.childNodes||[];if(i.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=s.filter(H);if(o.length>1||t(s,_))throw new S(k,"More than one element or text in fragment");if(1===o.length&&!W(e,r))throw new S(k,"Element in fragment can not be inserted before doctype")}if(H(i)&&!W(e,r))throw new S(k,"Only one element can be added and only after doctype");if(B(i)){if(t(n,B))throw new S(k,"Only one doctype is allowed");var a=t(n,H);if(r&&n.indexOf(a)<n.indexOf(r))throw new S(k,"Doctype can only be inserted before an element");if(!r&&a)throw new S(k,"Doctype can not be appended since element is present")}}function Z(e,i,r){var n=e.childNodes||[],s=i.childNodes||[];if(i.nodeType===U.DOCUMENT_FRAGMENT_NODE){var o=s.filter(H);if(o.length>1||t(s,_))throw new S(k,"More than one element or text in fragment");if(1===o.length&&!j(e,r))throw new S(k,"Element in fragment can not be inserted before doctype")}if(H(i)&&!j(e,r))throw new S(k,"Only one element can be added and only after doctype");if(B(i)){function l(e){return B(e)&&e!==r}if(t(n,l))throw new S(k,"Only one doctype is allowed");var a=t(n,H);if(r&&n.indexOf(a)<n.indexOf(r))throw new S(k,"Doctype can only be inserted before an element")}}function K(e,t,i,r){(function(e,t,i){if(!function(e){return e&&(e.nodeType===U.DOCUMENT_NODE||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.ELEMENT_NODE)}(e))throw new S(k,"Unexpected parent node type "+e.nodeType);if(i&&i.parentNode!==e)throw new S(E,"child not in parent");if(!function(e){return e&&(H(e)||_(e)||B(e)||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.COMMENT_NODE||e.nodeType===U.PROCESSING_INSTRUCTION_NODE)}(t)||B(t)&&e.nodeType!==U.DOCUMENT_NODE)throw new S(k,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,i),e.nodeType===U.DOCUMENT_NODE&&(r||G)(e,t,i);var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===y){var s=t.firstChild;if(null==s)return t;var o=t.lastChild}else s=o=t;var a=i?i.previousSibling:e.lastChild;s.previousSibling=a,o.nextSibling=i,a?a.nextSibling=s:e.firstChild=s,null==i?e.lastChild=o:i.previousSibling=o;do{s.parentNode=e,Q(s,e.ownerDocument||e)}while(s!==o&&(s=s.nextSibling));return q(e.ownerDocument||e,e),t.nodeType==y&&(t.firstChild=t.lastChild=null),t}function Q(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===d&&e.attributes)for(var i=0;i<e.attributes.length;i++){var r=e.attributes.item(i);r&&(r.ownerDocument=t)}for(var n=e.firstChild;n;)Q(n,t),n=n.nextSibling}}function X(){this._nsMap={}}function Y(){}function J(){}function ee(){}function te(){}function ie(){}function re(){}function ne(){}function se(){}function oe(){}function ae(){}function le(){}function de(){}function ce(e,t){var i=[],r=9==this.nodeType&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&null==n&&null==(n=r.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return ge(this,i,e,t,o),i.join("")}function he(e,t,r){var n=e.prefix||"",s=e.namespaceURI;if(!s)return!1;if("xml"===n&&s===i.XML||s===i.XMLNS)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix===n)return a.namespace!==s}return!0}function ue(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,$),'"')}function ge(e,t,r,n,s){if(s||(s=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var o=e.attributes,a=o.length,l=e.firstChild,p=e.tagName,w=p;if(!(r=i.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var T,A=0;A<o.length;A++)if("xmlns"===o.item(A).name){T=o.item(A).value;break}if(!T)for(var k=s.length-1;k>=0;k--)if(""===(E=s[k]).prefix&&E.namespace===e.namespaceURI){T=E.namespace;break}if(T!==e.namespaceURI)for(k=s.length-1;k>=0;k--){var E;if((E=s[k]).namespace===e.namespaceURI){E.prefix&&(w=E.prefix+":"+p);break}}}t.push("<",w);for(var C=0;C<a;C++)"xmlns"==(S=o.item(C)).prefix?s.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&s.push({prefix:"",namespace:S.value});for(C=0;C<a;C++){var S,I,x;he(S=o.item(C),0,s)&&(ue(t,(I=S.prefix||"")?"xmlns:"+I:"xmlns",x=S.namespaceURI),s.push({prefix:I,namespace:x})),ge(S,t,r,n,s)}if(p===w&&he(e,0,s)&&(ue(t,(I=e.prefix||"")?"xmlns:"+I:"xmlns",x=e.namespaceURI),s.push({prefix:I,namespace:x})),l||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(p)){if(t.push(">"),r&&/^script$/i.test(p))for(;l;)l.data?t.push(l.data):ge(l,t,r,n,s.slice()),l=l.nextSibling;else for(;l;)ge(l,t,r,n,s.slice()),l=l.nextSibling;t.push("</",w,">")}else t.push("/>");return;case b:case y:for(l=e.firstChild;l;)ge(l,t,r,n,s.slice()),l=l.nextSibling;return;case c:return ue(t,e.name,e.value);case h:return t.push(e.data.replace(/[<&>]/g,$));case u:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case v:var R=e.publicId,N=e.systemId;if(t.push("<!DOCTYPE ",e.name),R)t.push(" PUBLIC ",R),N&&"."!=N&&t.push(" ",N),t.push(">");else if(N&&"."!=N)t.push(" SYSTEM ",N,">");else{var L=e.internalSubset;L&&t.push(" [",L,"]"),t.push(">")}return;case m:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function pe(e,t,i){var r;switch(t.nodeType){case d:(r=t.cloneNode(!1)).ownerDocument=e;case y:break;case c:i=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,i)for(var n=t.firstChild;n;)r.appendChild(pe(e,n,i)),n=n.nextSibling;return r}function me(e,t,i){var r=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];"object"!=typeof s&&s!=r[n]&&(r[n]=s)}switch(t.childNodes&&(r.childNodes=new I),r.ownerDocument=e,r.nodeType){case d:var o=t.attributes,a=r.attributes=new N,l=o.length;a._ownerElement=r;for(var h=0;h<l;h++)r.setAttributeNode(me(e,o.item(h),!0));break;case c:i=!0}if(i)for(var u=t.firstChild;u;)r.appendChild(me(e,u,i)),u=u.nextSibling;return r}function fe(e,t,i){e[t]=i}T.INVALID_STATE_ERR=(A[11]="Invalid state",11),T.SYNTAX_ERR=(A[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),T.NAMESPACE_ERR=(A[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(A[15]="Invalid access",15),S.prototype=Error.prototype,o(T,S),I.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var i=[],r=0;r<this.length;r++)ge(this[r],i,e,t);return i.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},x.prototype.item=function(e){return R(this),this[e]||null},a(x,I),N.prototype={length:0,item:I.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new S(C);var i=this.getNamedItem(e.nodeName);return O(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new S(C);return t=this.getNamedItemNS(e.namespaceURI,e.localName),O(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return D(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return D(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var r=this[i];if(r.localName==t&&r.namespaceURI==e)return r}return null}},P.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var r=new M;if(r.implementation=this,r.childNodes=new I,r.doctype=i||null,i&&r.appendChild(i),t){var n=r.createElementNS(e,t);r.appendChild(n)}return r},createDocumentType:function(e,t,i){var r=new re;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=i||"",r}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return K(this,e,t)},replaceChild:function(e,t){K(this,e,t,Z),t&&this.removeChild(t)},removeChild:function(e){return z(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return me(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==h&&e.nodeType==h?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===e)return r;t=t.nodeType==c?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,e))return i[e];t=t.nodeType==c?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},o(l,U),o(l,U.prototype),M.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==y){for(var i=e.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,t),i=r}return e}return K(this,e,t),Q(e,this),null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),z(this,e)},replaceChild:function(e,t){K(this,e,t,Z),Q(e,this),t&&this.removeChild(t),H(e)&&(this.documentElement=e)},importNode:function(e,t){return pe(this,e,t)},getElementById:function(e){var t=null;return V(this.documentElement,function(i){if(i.nodeType==d&&i.getAttribute("id")==e)return t=i,!0}),t},getElementsByClassName:function(e){var t=s(e);return new x(this,function(i){var r=[];return t.length>0&&V(i.documentElement,function(n){if(n!==i&&n.nodeType===d){var o=n.getAttribute("class");if(o){var a=e===o;if(!a){var l=s(o);a=t.every((c=l,function(e){return c&&-1!==c.indexOf(e)}))}a&&r.push(n)}}var c}),r})},createElement:function(e){var t=new X;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new I,(t.attributes=new N)._ownerElement=t,t},createDocumentFragment:function(){var e=new ae;return e.ownerDocument=this,e.childNodes=new I,e},createTextNode:function(e){var t=new ee;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new te;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new le;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new Y;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new oe;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new X,r=t.split(":"),n=i.attributes=new N;return i.childNodes=new I,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,n._ownerElement=i,i},createAttributeNS:function(e,t){var i=new Y,r=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,i}},a(M,U),X.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===y?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,q(e.ownerDocument,e,t),Q(t,e.ownerDocument||e),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new x(this,function(t){var i=[];return V(t,function(r){r===t||r.nodeType!=d||"*"!==e&&r.tagName!=e||i.push(r)}),i})},getElementsByTagNameNS:function(e,t){return new x(this,function(i){var r=[];return V(i,function(n){n===i||n.nodeType!==d||"*"!==e&&n.namespaceURI!==e||"*"!==t&&n.localName!=t||r.push(n)}),r})}},M.prototype.getElementsByTagName=X.prototype.getElementsByTagName,M.prototype.getElementsByTagNameNS=X.prototype.getElementsByTagNameNS,a(X,U),Y.prototype.nodeType=c,a(Y,U),J.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(A[k])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},a(J,U),ee.prototype={nodeName:"#text",nodeType:h,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},a(ee,J),te.prototype={nodeName:"#comment",nodeType:f},a(te,J),ie.prototype={nodeName:"#cdata-section",nodeType:u},a(ie,J),re.prototype.nodeType=v,a(re,U),ne.prototype.nodeType=w,a(ne,U),se.prototype.nodeType=p,a(se,U),oe.prototype.nodeType=g,a(oe,U),ae.prototype.nodeName="#document-fragment",ae.prototype.nodeType=y,a(ae,U),le.prototype.nodeType=m,a(le,U),de.prototype.serializeToString=function(e,t,i){return ce.call(e,t,i)},U.prototype.toString=ce;try{if(Object.defineProperty){function be(e){switch(e.nodeType){case d:case y:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(be(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(x.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case d:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),fe=function(e,t,i){e["$$"+t]=i}}}catch(ve){}return Dt.DocumentType=re,Dt.DOMException=S,Dt.DOMImplementation=P,Dt.Element=X,Dt.Node=U,Dt.NodeList=I,Dt.XMLSerializer=de,Dt}var Vt,Mt={},Ft={};function qt(){return Vt||(Vt=1,e=Ft,t=Ut().freeze,e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES),Ft;var e,t}var zt,Bt,Ht,_t={};function Wt(){if(zt)return _t;zt=1;var e=Ut().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+t.source+i.source+"*(?::"+t.source+i.source+"*)?$");function n(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,n)}function s(){}function o(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function a(t,i,r,n,s,o){function a(e,t,i){r.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),i)}for(var l,d=++i,c=0;;){var h=t.charAt(d);switch(h){case"=":if(1===c)l=t.slice(i,d),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),l=t.slice(i,d)),i=d+1,!((d=t.indexOf(h,i))>0))throw new Error("attribute value no end '"+h+"' match");a(l,u=t.slice(i,d),i-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(l,u=t.slice(i,d),i),o.warning('attribute "'+l+'" missed start quot('+h+")!!"),i=d+1,c=5}break;case"/":switch(c){case 0:r.setTagName(t.slice(i,d));case 5:case 6:case 7:c=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&r.setTagName(t.slice(i,d)),d;case">":switch(c){case 0:r.setTagName(t.slice(i,d));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=t.slice(i,d)).slice(-1)&&(r.closed=!0,u=u.slice(0,-1));case 2:2===c&&(u=l),4==c?(o.warning('attribute "'+u+'" missed quot(")!'),a(l,u,i)):(e.isHTML(n[""])&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,i));break;case 3:throw new Error("attribute value missed!!")}return d;case"":h=" ";default:if(h<=" ")switch(c){case 0:r.setTagName(t.slice(i,d)),c=6;break;case 1:l=t.slice(i,d),c=2;break;case 4:var u=t.slice(i,d);o.warning('attribute "'+u+'" missed quot(")!!'),a(l,u,i);case 5:c=6}else switch(c){case 2:r.tagName,e.isHTML(n[""])&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,i),i=d,c=1;break;case 5:o.warning('attribute space is required"'+l+'"!!');case 6:c=1,i=d;break;case 3:c=4,i=d;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function l(t,i,r){for(var n=t.tagName,s=null,o=t.length;o--;){var a=t[o],l=a.qName,d=a.value;if((p=l.indexOf(":"))>0)var c=a.prefix=l.slice(0,p),u=l.slice(p+1),g="xmlns"===c&&u;else u=l,c=null,g="xmlns"===l&&"";a.localName=u,!1!==g&&(null==s&&(s={},h(r,r={})),r[g]=s[g]=d,a.uri=e.XMLNS,i.startPrefixMapping(g,d))}for(o=t.length;o--;)(c=(a=t[o]).prefix)&&("xml"===c&&(a.uri=e.XML),"xmlns"!==c&&(a.uri=r[c||""]));var p;(p=n.indexOf(":"))>0?(c=t.prefix=n.slice(0,p),u=t.localName=n.slice(p+1)):(c=null,u=t.localName=n);var m=t.uri=r[c||""];if(i.startElement(m,u,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=s,!0;if(i.endElement(m,u,n),s)for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&i.endPrefixMapping(c)}function d(e,t,i,r,n){if(/^(?:script|textarea)$/i.test(i)){var s=e.indexOf("</"+i+">",t),o=e.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(i)?(n.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,r),n.characters(o,0,o.length),s)}return t+1}function c(e,t,i,r){var n=r[i];return null==n&&((n=e.lastIndexOf("</"+i+">"))<t&&(n=e.lastIndexOf("</"+i)),r[i]=n),n<t}function h(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function u(e,t,i,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(n=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,n-t-4),n+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var n=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,n-t-9),i.endCDATA(),n+3}var s=function(e,t){var i,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);i=n.exec(e);)if(r.push(i),i[1])return r}(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],l=!1,d=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],d=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(d=s[3][0]));var c=s[o-1];return i.startDTD(a,l,d),i.endDTD(),c.index+c[0].length}return-1}function g(e,t,i){var r=e.indexOf("?>",t);if(r){var n=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,i.processingInstruction(n[1],n[2]),r+2):-1}return-1}function p(){this.attributeNames={}}return n.prototype=new Error,n.prototype.name=n.name,s.prototype={parse:function(t,i,r){var s=this.domBuilder;s.startDocument(),h(i,i={}),function(t,i,r,s,h){function m(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(h.error("entity not found:"+e),e)}function f(e){if(e>E){var i=t.substring(E,e).replace(/&#?\w+;/g,m);T&&b(E),s.characters(i,0,e-E),E=e}}function b(e,i){for(;e>=y&&(i=w.exec(t));)v=i.index,y=v+i[0].length,T.lineNumber++;T.columnNumber=e-v+1}for(var v=0,y=0,w=/.*(?:\r\n?|\n)|.*$/g,T=s.locator,A=[{currentNSMap:i}],k={},E=0;;){try{var C=t.indexOf("<",E);if(C<0){if(!t.substr(E).match(/^\s*$/)){var S=s.doc,I=S.createTextNode(t.substr(E));S.appendChild(I),s.currentElement=I}return}switch(C>E&&f(C),t.charAt(C+1)){case"/":var x=t.indexOf(">",C+3),R=t.substring(C+2,x).replace(/[ \t\n\r]+$/g,""),N=A.pop();x<0?(R=t.substring(C+2).replace(/[\s<].*/,""),h.error("end tag name: "+R+" is not complete:"+N.tagName),x=C+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),h.error("end tag name: "+R+" maybe not complete"),x=C+1+R.length);var L=N.localNSMap,O=N.tagName==R;if(O||N.tagName&&N.tagName.toLowerCase()==R.toLowerCase()){if(s.endElement(N.uri,N.localName,R),L)for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&s.endPrefixMapping(D);O||h.fatalError("end tag name: "+R+" is not match the current start tagName:"+N.tagName)}else A.push(N);x++;break;case"?":T&&b(C),x=g(t,C,s);break;case"!":T&&b(C),x=u(t,C,s,h);break;default:T&&b(C);var P=new p,U=A[A.length-1].currentNSMap,$=(x=a(t,C,P,U,m,h),P.length);if(!P.closed&&c(t,x,P.tagName,k)&&(P.closed=!0,r.nbsp||h.warning("unclosed xml attribute")),T&&$){for(var V=o(T,{}),M=0;M<$;M++){var F=P[M];b(F.offset),F.locator=o(T,{})}s.locator=V,l(P,s,U)&&A.push(P),s.locator=T}else l(P,s,U)&&A.push(P);e.isHTML(P.uri)&&!P.closed?x=d(t,x,P.tagName,m,s):x++}}catch(e){if(e instanceof n)throw e;h.error("element parse error: "+e),x=-1}x>E?E=x:f(Math.max(C,E)+1)}}(t,i,r,s,this.errorHandler),s.endDocument()}},p.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!r.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_t.XMLReader=s,_t.ParseError=n,_t}var jt=function(){if(Ht)return Ot;Ht=1;var e=$t();return Ot.DOMImplementation=e.DOMImplementation,Ot.XMLSerializer=e.XMLSerializer,Ot.DOMParser=function(){if(Bt)return Mt;Bt=1;var e=Ut(),t=$t(),i=qt(),r=Wt(),n=t.DOMImplementation,s=e.NAMESPACE,o=r.ParseError,a=r.XMLReader;function l(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function c(){this.cdata=!1}function h(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function u(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function p(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}return d.prototype.parseFromString=function(e,t){var r=this.options,n=new a,o=r.domBuilder||new c,d=r.errorHandler,h=r.locator,g=r.xmlns||{},p=/\/x?html?$/.test(t),m=p?i.HTML_ENTITIES:i.XML_ENTITIES;h&&o.setDocumentLocator(h),n.errorHandler=function(e,t,i){if(!e){if(t instanceof c)return t;e=t}var r={},n=e instanceof Function;function s(t){var s=e[t];!s&&n&&(s=2==e.length?function(i){e(t,i)}:e),r[t]=s&&function(e){s("[xmldom "+t+"]\t"+e+u(i))}||function(){}}return i=i||{},s("warning"),s("error"),s("fatalError"),r}(d,o,h),n.domBuilder=r.domBuilder||o,p&&(g[""]=s.HTML),g.xml=g.xml||s.XML;var f=r.normalizeLineEndings||l;return e&&"string"==typeof e?n.parse(f(e),g,m):n.errorHandler.error("invalid doc source"),o.doc},c.prototype={startDocument:function(){this.doc=(new n).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,r){var n=this.doc,s=n.createElementNS(e,i||t),o=r.length;p(this,s),this.currentElement=s,this.locator&&h(this.locator,s);for(var a=0;a<o;a++){e=r.getURI(a);var l=r.getValue(a),d=(i=r.getQName(a),n.createAttributeNS(e,i));this.locator&&h(r.getLocator(a),d),d.value=d.nodeValue=l,s.setAttributeNode(d)}},endElement:function(e,t,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&h(this.locator,i),p(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=g.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&h(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=g.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&h(this.locator,r),p(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(e,t,i);this.locator&&h(this.locator,n),p(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]\t"+e,u(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,u(this.locator))},fatalError:function(e){throw new o(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){c.prototype[e]=function(){return null}}),Mt.__DOMHandler=c,Mt.normalizeLineEndings=l,Mt.DOMParser=d,Mt}().DOMParser,Ot}(),Gt=e({__proto__:null},[jt])}();
</script>
</head>
<body>
<div id="wrapper" data-id="1218925">
  <header style="z-index: 1">
    <div class="controls">
      <button id="episode-btn" class="main-btn" style="display: none;">
        <svg>
          <use xlink:href="#icon-ep"></use>
        </svg>
      </button>
      <div id="servers" class="servers dropdown" style="opacity: 0;visibility: hidden;">
        <button id="server-btn" class="main-btn" data-toggle="dropdown" aria-expanded="false" data-placeholder="false">
          <svg>
            <use xlink:href="#icon-sv"></use>
          </svg>
        </button>
        <div class="dropdown-menu servers">
          <a class="dropdown-item" href="javascript:;"></a>
        </div>
      </div>
    </div>
    <div class="title">Chainsaw Man - The Movie: Reze Arc (2025)</div>
  </header>
  <main>
    <div id="b-loading" class="b-loading"><div></div><div></div></div>
  </main>
  
  <aside id="ep-panel" class="panel from-left" style="z-index: 3">
    <div class="seasons dropdown">
      <a class="btn dropdown-toggle season-current" href="#"  data-toggle="dropdown">Movie Files</a>
      <div id="seasons" class="dropdown-menu season-items">
        <a class="dropdown-item" href="javascript:;" data-number="1">Movie Files</a>
      </div>
    </div>
    <div id="close-ep-btn" class="close">
      <svg>
        <use xlink:href="#icon-x"></use>
      </svg>
    </div>
    <ul class="episodes" style="display: none" data-season="1">
      <li>
        <a href="javascript:;" data-id="8272" data-number="1">EP 1</a>
      </li>
    </ul>
  </aside>
</div>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99d3b8f11fc08f4f',t:'MTc2MjkyNjMxOA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>

<script type="text/javascript" src="/saas/js/embed.min.js?t=1761659759"></script>
<script type="text/javascript">
  aclib.runPop({
    zoneId: '10247390',
  });
</script>
<svg class="d-none">
  <symbol id="icon-ep" fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 346.55 346.55">
    <path d="M279,44.5H67.5c-21.3,0-38.6,17.3-38.6,38.6v180.2c0,21.3,17.3,38.6,38.6,38.6H279c21.3,0,38.6-17.3,38.6-38.6V83.2C317.7,61.8,300.4,44.5,279,44.5z M99.4,249.1l-24.4,14c-3.5,2-7.8-0.5-7.8-4.5v-28.1c0-4,4.3-6.5,7.8-4.5l24.4,14C102.9,242,102.9,247,99.4,249.1zM99.4,177.8l-24.4,14c-3.5,2-7.8-0.5-7.8-4.5v-28.1c0-4,4.3-6.5,7.8-4.5l24.4,14C102.9,170.8,102.9,175.8,99.4,177.8z M99.4,106.5l-24.4,14c-3.5,2-7.8-0.5-7.8-4.5V88c0-4,4.3-6.5,7.8-4.5l24.4,14C102.9,99.5,102.9,104.5,99.4,106.5zM279.3,244.6c0,6.7-5.5,12.2-12.2,12.2H142.3c-6.7,0-12.2-5.5-12.2-12.2v0c0-6.7,5.5-12.2,12.2-12.2h124.8C273.8,232.4,279.3,237.9,279.3,244.6L279.3,244.6z M267.1,185.5H142.3c-6.7,0-12.2-5.5-12.2-12.2c0-6.7,5.5-12.2,12.2-12.2h124.8c6.7,0,12.2,5.5,12.2,12.2C279.3,180.1,273.8,185.5,267.1,185.5z M267.1,114.3H142.3c-6.7,0-12.2-5.5-12.2-12.2c0-6.7,5.5-12.2,12.2-12.2h124.8c6.7,0,12.2,5.5,12.2,12.2C279.3,108.8,273.8,114.3,267.1,114.3z"/>
  </symbol>
  <symbol id="icon-sv" fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 346.55 346.55">
    <path d="M344.86,188.03c-6.66-36.22-37.98-65.37-74.77-69.04-8.37-.83-16.89-.12-25.37-.12-11.46-47.79-57.81-81.19-109.8-73.96-23.14,3.22-42.88,13.45-58.74,30.65-21.39,23.19-29.38,50.8-25.79,81.99-1.67,.58-3.11,1.1-4.56,1.6C18.84,168.47,.35,194.23,.15,222.77c-.26,37.77,30.04,68.55,67.97,68.63,63.91,.14,127.83,.09,191.74-.05,6.13-.01,12.39-.66,18.37-2.01,46.6-10.47,75.29-54.24,66.63-101.32Zm-83.8,78.62c-7.28,.09-14.56,.1-21.84,.08-7.28-.02-14.56-.05-21.84-.05-11.21,0-22.42,.1-33.63,.05-3.74-.01-7.47-.04-11.21-.1-18.88-.27-34.36-14.75-36.27-33.56-1.84-18.07,10.31-35.16,28.2-39.55,6.38-1.57,12.73-1.42,19.08,.43,9.18,2.67,14.57-.16,17.71-9.12,9.39-26.81,35.31-43.94,63.21-41.76,28.1,2.2,51.02,22.87,56.26,50.76,6.97,37.06-21.89,72.35-59.67,72.82Z"/>
  </symbol>
  <symbol id="icon-x" fill="#fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 346.55 346.55">
    <path d="M204.97,173.27l96.02-96.02c8.72-8.72,8.72-22.98,0-31.7h0c-8.72-8.72-22.98-8.72-31.7,0l-96.02,96.02L77.25,45.55c-8.72-8.72-22.98-8.72-31.7,0h0c-8.72,8.72-8.72,22.98,0,31.7l96.02,96.02-96.02,96.02c-8.72,8.72-8.72,22.98,0,31.7h0c8.72,8.72,22.98,8.72,31.7,0l96.02-96.02,96.02,96.02c8.72,8.72,22.98,8.72,31.7,0,8.72-8.72,8.72-22.98,0-31.7l-96.02-96.02Z"/>
  </symbol>
</svg>
</html>
